{% extends 'app1/base.html' %}
{% block body %}
{% load static %}
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>

<script>
  $(document).ready(function() {
    var i = 1;
    $("#add_row").click(function() {
      b = i - 1;
      $('#addr' + i).html($('#addr' + b).html()).find('td:first-child').html(i + 1);
      $('#tab_logic').append('<tr id="addr' + (i + 1) + '"></tr>');
      i++;
    });
    $("#delete_row").click(function() {
      if (i > 1) {
        $("#addr" + (i - 1)).html('');
        i--;
      }
      calc();
    });
    $('#tab_logic tbody').on('keyup change', function() {
      calc();
    });

    $('#tax').on('keyup change', function() {
      calc_total();
    });
  });

  function calc() {
    
    $('#tab_logic tbody tr').each(function() {
      
      var html = $(this).html();
      if (html != '') {
        var qty = $(this).find('.qty').val();
        var price = $(this).find('.price').val();
        var tax = $(this).find('.tax').val();
        $(this).find('.total').val(parseFloat(qty * price));
        $(this).find('.taxamount').val(parseFloat((qty * price) * (parseFloat(tax) / 100)));
        
        calc_total();
     
      }
    });
  }

  function calc_total() {
    total = 0;
    $('.total').each(function() {
      total += parseFloat($(this).val());
      
    });
    taxamount = 0.0;
    $('.taxamount').each(function() {
      taxamount += parseFloat($(this).val());
      
    });
    $('#subtotal').val(parseFloat(total.toFixed(2)));
    
    $('#grandtotal').val(parseFloat((taxamount + total).toFixed(2)));
    $('#baldue').val(parseFloat((taxamount + total).toFixed(2)));

    calc_tcs();
  }

  function calc_tcs() {
            tcsamount = 0;
            var a = document.getElementById("tcs1").value

            tcs=0
            tcs =a/100 * total

           

           
            $('#tcs_amount').val(parseFloat((a/100) *total.toFixed(2)));
           

            $('#grandtotal').val(parseFloat((taxamount + total+tcs).toFixed(2)));

            $('#baldue').val(parseFloat((taxamount + total+tcs) .toFixed(2)));


            
            test()
        }



  function test(){

var bc = document.getElementById("plosu").value

d=0
if (bc == 'Kerala' ) {
    gst = taxamount/2
    $('#cgst').val(parseFloat(gst.toFixed(2)));
    $('#sgst').val(parseFloat(gst.toFixed(2)));
    $('#igst').val(parseFloat(d.toFixed(2)));
  
    }
    
if (bc != 'Kerala' ) {
    $('#tax_amount').val(parseFloat(taxamount.toFixed(2)));
    $('#cgst').val(d.toFixed(2));
    $('#igst').val(d.toFixed(2));
}

}


function calc_roundoff(){

var amount =taxamount + total + tcs

let x =Math.round(amount)

$('#round_off').val(parseFloat(x.toFixed(2)));
$('#grandtotal').val(parseFloat(x.toFixed(2)));
$('#baldue').val(parseFloat(x .toFixed(2)));
}

  
</script>
  <script>
  $(document).ready(function(){
    var roinc = parseInt(document.getElementById("tab_logic").rows.length)-2
  $('#add').click(function(){
    roinc++
  $('#items-table-body').append(


  `
  <tr id='addr0${roinc}'>
                    <td>${roinc}</td>
                    <td style="width: 20%;">
                      <div class="d-flex">
                      <select name='product[]' id="product${roinc}" class="form-control" style="background-color: #2f516f; color: white;">
                        <option value=" " selected>Select Product</option>
                        
                        {% for i in item %}
                                {% if i.cid_id == cmp1.cid %}
                                    <option 
                                            value="{{ i.name  }}">{{ i.name  }} </option>
                                {% endif %}
                            {% endfor %}
        
                            
                        
                               
                              </select>

                            <a href="#">
                                <button type="button" class="btn btn-outline-secondary ml-1" 
                                data-target="#newitem" data-toggle="modal">+</button>
                            </a>
                        </div>
                    </td>
                    <td><input type="text" name='hsn[]' id="hsn1${roinc}" placeholder='Enter HSN Code' class="form-control" style="background-color: #2f516f; color: white;" /></td>
                    <td><input type="text" name='description[]' id="description${roinc}" placeholder='Description' class="form-control" style="background-color: #2f516f; color: white;" /></td>
                    <td><input type="number" name='qty[]' onchange="qtychange1(this)" placeholder='Enter Qty' id="qty1" class="form-control qty" step=0 min=0 style="background-color: #2f516f;margin-top: 21px; color: white;" />
                      <div><span>Available Qty :</span> <span id="qtyspan${roinc}"class=''></span></div>
                    </td>
                    <td><input type="number" name='price[]' id="unit1${roinc}" placeholder='Enter Unit Price' class="form-control price" step="0.00" min="0" style="background-color: #2f516f; color: white;" /></td>
                    
                    
                   
                    <td>
                      <select name='tax[]' id="tax${roinc+1}" class="form-control tax" style="background-color: #2f516f; color: white;">
                        <option id="ta1${roinc}" value=0 text={{ cmp1.state }}>Choose</option>
                        <option value=28 text={{ cmp1.state }}>28.0% GST(28%)</option>
                        <option value=18 text={{ cmp1.state }}>18.0% GST(18%)</option>
                        <option value=12 text={{ cmp1.state }}>12.0% GST(12%)</option>
                        <option value=6 text={{ cmp1.state }}>06.0% GST(06%)</option>
                        <option value=5 text={{ cmp1.state }}>05.0% GST(05%)</option>
                        <option value=3 text={{ cmp1.state }}>03.0% GST(03%)</option>
                        <option value=.25 text={{ cmp1.state }}>0.25% GST(0.25%)</option>
                        <option value=0 text={{ cmp1.state }}>0.0% GST(0%)</option>
                        <option value=0 text={{ cmp1.state }}>Exempt GST(0%)</option>
                        <option value=0 text={{ cmp1.state }}>Out of Scope(0%)</option>
                        <option id="ta5${roinc}" value=0 text=" ">Choose</option>
                        <option value=28 text=" ">28.0% IGST(28%)</option>
                        <option value=18 text=" ">18.0% IGST(18%)</option>
                        <option value=12 text=" ">12.0% IGST(12%)</option>
                        <option value=6 text=" ">06.0% IGST(06%)</option>
                        <option value=5 text=" ">05.0% IGST(05%)</option>
                        <option value=3 text=" ">03.0% IGST(03%)</option>
                        <option value=.25 text=" ">0.25% IGST(0.25%)</option>
                        <option value=0 text=" ">0.0% IGST(0%)</option>
                        <option value=0 text=" ">Exempt IGST(0%)</option>
                        <option value=0 text=" ">Out of Scope(0%)</option>
                      </select>
                    </td>
                    <td><input type="number" name='total[]' id="total1" placeholder=0 class="form-control total" value=0 step="any" readonly style="background-color: #2f516f; color: white;" /></td>
                    <td style="display: none;"><input type="number" step="any" name='taxamount1' id="taxamount1" class="form-control taxamount" />
                    </td>
                    <td><button type="button" id="${roinc}" class="btn btn-danger remove_row">-
</button></td>
                  </tr>
  
  `
    
 
 );
  });
  $(document).on('click','.remove_row',function(){

    const response = confirm("Are you sure you want to do that?");

    if (response) {
        var row_id = $(this).attr("id");
        var rowprd = document.getElementById('product'+row_id).value
        var crdid='{{invoice.invoiceid}}'
        
        
        $.ajax({
            type: "GET",
            url: "{% url 'removeinv' %}",
            data: {
            id: rowprd,
            cr:crdid
            
            }});
        $('#addr0'+row_id+'').remove();
        calc()
    } else {
        pass;
    }
  
  // var row_id = $(this).attr("id");
  
  // $('#'+row_id).remove();
  // $('#addr0'+row_id).remove();
  // calc()

  
  });
  // $(document).on('click','#product1',function(){
    var place = document.getElementById('plosu').value;
    $(document).on('click','#product',function(){
  // $('#product').on('change', function() {
      select = $('#product').val();
      $.ajax({
        type: "GET",
        url: "{% url 'getitems2' %}",
        data: {
          id: select
        },
        success:function(response){
                    console.log(response)
                    data = response.hsn
                    data1 = response.desp
                    data2 = response.qty
                    data3 = response.price
                    data4 = response.gst
                    data5 = response.sgst
                    document.getElementById('hsn1').value = data
                    document.getElementById('description').value = data1
                    document.getElementById('qtyspan').innerHTML = data2;
                    document.getElementById('unit1').value = data3

                    if (data2<1)
                    {
                      
                      
                      document.getElementById('qtyspan').style.color="red";
                    }
                    else{
                      pass
                    }
                    
                    
                    if (place == '{{ cmp1.state }}')
                    {
                      document.getElementById('ta1').innerHTML = data4 + ' % GST';
                      document.getElementById('ta1').value=data4

                    } 
                    
                    document.getElementById('ta5').innerHTML  = data5 + ' % IGST';
                    document.getElementById('ta5').value=data5
                  
                }
      
      
      });
    });


    
    $(document).on('click','#product1',function(){
      select = $('#product1').val();
      $.ajax({
        type: "GET",
        url: "{% url 'getitems2' %}",
        data: {
          id: select
        },
        success:function(response){
                    console.log(response)
                    data = response.hsn
                    data1 = response.desp
                    data2 = response.qty
                    data3 = response.price
                    data4 = response.gst
                    data5 = response.sgst
                    
                    document.getElementById('hsn11').value = data
                    document.getElementById('description1').value = data1
                    document.getElementById('qtyspan1').innerHTML = data2;
                    document.getElementById('unit11').value = data3

                    
                    
                    if (place == '{{ cmp1.state }}')
                    {
                      document.getElementById('ta11').innerHTML = data4 + ' % GST';
                      document.getElementById('ta11').value=data4

                    } 
                    
                    document.getElementById('ta51').innerHTML  = data5 + ' % IGST';
                    document.getElementById('ta51').value=data5
                    if (data2<1)
                    {
                      
                      
                      document.getElementById('qtyspan1').style.color="red";
                    }
                    else{
                      pass
                    }
                }
                    
      
      
      });
    });

    $(document).on('click','#product2',function(){
      select = $('#product2').val();
      $.ajax({
        type: "GET",
        url: "{% url 'getitems2' %}",
        data: {
          id: select
        },
        success:function(response){
                    console.log(response)
                    data = response.hsn
                    data1 = response.desp
                    data2 = response.qty
                    data3 = response.price
                    data4 = response.gst
                    data5 = response.sgst
                    
                    document.getElementById('hsn12').value = data
                    document.getElementById('description2').value = data1
                    document.getElementById('qtyspan2').innerHTML = data2;
                    document.getElementById('unit12').value = data3

                    
                    
                    if (place == '{{ cmp1.state }}')
                    {
                      document.getElementById('ta12').innerHTML = data4 + ' % GST';
                      document.getElementById('ta12').value=data4
                      

                    } 
                    
                    document.getElementById('ta52').innerHTML  = data5 + ' % IGST';
                    document.getElementById('ta52').value=data5
                    if (data2<1)
                    {
                      
                      
                      document.getElementById('qtyspan2').style.color="red";
                    }
                    else{
                      pass
                    }
                }
      
      
      });
    });
    $(document).on('click','#product3',function(){
      
      select = $('#product3').val();
      
      $.ajax({
        type: "GET",
        url: "{% url 'getitems2' %}",
        data: {
          id: select
        },
        success:function(response){
                    console.log(response)
                    data = response.hsn
                    data1 = response.desp
                    data2 = response.qty
                    data3 = response.price
                    data4 = response.gst
                    data5 = response.sgst
                    
                    document.getElementById('hsn13').value = data
                    document.getElementById('description3').value = data1
                    document.getElementById('qtyspan3').innerHTML = data2;
                    document.getElementById('unit13').value = data3
                    
                    
                    
                    
                    if (place == '{{ cmp1.state }}')
                    {
                      
                      document.getElementById('ta13').innerHTML = data4 + ' % GST';
                      document.getElementById('ta13').value=data4 + ' % GST'
                      

                    } 
                    
                    document.getElementById('ta53').innerHTML  = data5 + ' % IGST';
                    document.getElementById('ta53').value=data5
                    calc()

                    if (data2<1)
                    {
                      
                      
                      document.getElementById('qtyspan3').style.color="red";
                    }
                    else{
                      pass
                    }
                }

      });
    });
    $(document).on('click','#product4',function(){
      select = $('#product4').val();
      
      $.ajax({
        type: "GET",
        url: "{% url 'getitems2' %}",
        data: {
          id: select
        },
        success:function(response){
                    console.log(response)
                    data = response.hsn
                    data1 = response.desp
                    data2 = response.qty
                    data3 = response.price
                    data4 = response.gst
                    data5 = response.sgst
                    
                    document.getElementById('hsn14').value = data
                    document.getElementById('description4').value = data1
                    document.getElementById('qtyspan4').innerHTML = data2;
                    document.getElementById('unit14').value = data3 
                    

                    
                    
                    if (place == '{{ cmp1.state }}')
                    {
                      document.getElementById('ta14').innerHTML = data4 + ' % GST';
                      document.getElementById('ta14').value=data4

                    } 
                    
                    document.getElementById('ta54').innerHTML  = data5 + ' % IGST';
                    document.getElementById('ta54').value=data5

                    if (data2<1)
                    {
                      
                      
                      document.getElementById('qtyspan4').style.color="red";
                    }
                    else{
                      pass
                    }
                }

      });
    });
    $(document).on('click','#product5',function(){
      select = $('#product5').val();
      $.ajax({
        type: "GET",
        url: "{% url 'getitems2' %}",
        data: {
          id: select
        },
        success:function(response){
                    console.log(response)
                    data = response.hsn
                    data1 = response.desp
                    data2 = response.qty
                    data3 = response.price
                    data4 = response.gst
                    data5 = response.sgst
                    
                    document.getElementById('hsn15').value = data
                    document.getElementById('description5').value = data1
                    document.getElementById('qtyspan5').innerHTML = data2;
                    document.getElementById('unit15').value = data3

                    
                    
                    if (place == '{{ cmp1.state }}')
                    {
                      document.getElementById('ta15').innerHTML = data4 + ' % GST';
                      document.getElementById('ta15').value=data4

                    } 
                    
                    document.getElementById('ta55').innerHTML  = data5 + ' % IGST';
                    document.getElementById('ta55').value=data5

                    if (data2<1)
                    {
                      
                      
                      document.getElementById('qtyspan5').style.color="red";
                    }
                    else{
                      pass
                    }
                }

      });
    });

    $(document).on('click','#product6',function(){
      select = $('#product6').val();
      $.ajax({
        type: "GET",
        url: "{% url 'getitems2' %}",
        data: {
          id: select
        },
        success:function(response){
                    console.log(response)
                    data = response.hsn
                    data1 = response.desp
                    data2 = response.qty
                    data3 = response.price
                    data4 = response.gst
                    data5 = response.sgst
                    
                    document.getElementById('hsn16').value = data
                    document.getElementById('description6').value = data1
                    document.getElementById('qtyspan6').innerHTML = data2;
                    document.getElementById('unit16').value = data3

                    
                    
                    if (place == '{{ cmp1.state }}')
                    {
                      document.getElementById('ta16').innerHTML = data4 + ' % GST';
                      document.getElementById('ta16').value=data4

                    } 
                    
                    document.getElementById('ta56').innerHTML  = data5 + ' % IGST';
                    document.getElementById('ta56').value=data5

                    if (data2<1)
                    {
                      
                      
                      document.getElementById('qtyspan6').style.color="red";
                    }
                    else{
                      pass
                    }
                }

      });
    });
    $(document).on('click','#product7',function(){
      select = $('#product7').val();
      $.ajax({
        type: "GET",
        url: "{% url 'getitems2' %}",
        data: {
          id: select
        },
        success:function(response){
                    console.log(response)
                    data = response.hsn
                    data1 = response.desp
                    data2 = response.qty
                    data3 = response.price
                    data4 = response.gst
                    data5 = response.sgst
                    
                    document.getElementById('hsn17').value = data
                    document.getElementById('description7').value = data1
                    document.getElementById('qtyspan7').innerHTML = data2;
                    document.getElementById('unit17').value = data3

                    
                    
                    if (place == '{{ cmp1.state }}')
                    {
                      document.getElementById('ta17').innerHTML = data4 + ' % GST';
                      document.getElementById('ta17').value=data4

                    } 
                    
                    document.getElementById('ta57').innerHTML  = data5 + ' % IGST';
                    document.getElementById('ta57').value=data5

                    if (data2<1)
                    {
                      
                      
                      document.getElementById('qtyspan7').style.color="red";
                    }
                    else{
                      pass
                    }
                }

      });
    });
    $(document).on('click','#product8',function(){
      select = $('#product8').val();
      $.ajax({
        type: "GET",
        url: "{% url 'getitems2' %}",
        data: {
          id: select
        },
        success:function(response){
                    console.log(response)
                    data = response.hsn
                    data1 = response.desp
                    data2 = response.qty
                    data3 = response.price
                    data4 = response.gst
                    data5 = response.sgst
                    
                    document.getElementById('hsn18').value = data
                    document.getElementById('description8').value = data1
                    document.getElementById('qtyspan8').innerHTML = data2;
                    document.getElementById('unit18').value = data3

                    
                    
                    if (place == '{{ cmp1.state }}')
                    {
                      document.getElementById('ta18').innerHTML = data4 + ' % GST';
                      document.getElementById('ta18').value=data4

                    } 
                    
                    document.getElementById('ta58').innerHTML  = data5 + ' % IGST';
                    document.getElementById('ta58').value=data5

                    if (data2<1)
                    {
                      
                      
                      document.getElementById('qtyspan8').style.color="red";
                    }
                    else{
                      pass
                    }
                }

      });
    });
    $(document).on('click','#product9',function(){
      select = $('#product9').val();
      $.ajax({
        type: "GET",
        url: "{% url 'getitems2' %}",
        data: {
          id: select
        },
        success:function(response){
                    console.log(response)
                    data = response.hsn
                    data1 = response.desp
                    data2 = response.qty
                    data3 = response.price
                    data4 = response.gst
                    data5 = response.sgst
                    
                    document.getElementById('hsn19').value = data
                    document.getElementById('description9').value = data1
                    document.getElementById('qtyspan9').innerHTML = data2;
                    document.getElementById('unit19').value = data3

                    
                    
                    if (place == '{{ cmp1.state }}')
                    {
                      document.getElementById('ta19').innerHTML = data4 + ' % GST';
                      document.getElementById('ta19').value=data4

                    } 
                    
                    document.getElementById('ta59').innerHTML  = data5 + ' % IGST';
                    document.getElementById('ta59').value=data5

                    if (data2<1)
                    {
                      
                      
                      document.getElementById('qtyspan9').style.color="red";
                    }
                    else{
                      pass
                    }
                }

      });
    });
    $(document).on('click','#product10',function(){
      select = $('#product10').val();
      $.ajax({
        type: "GET",
        url: "{% url 'getitems2' %}",
        data: {
          id: select
        },
        success:function(response){
                    console.log(response)
                    data = response.hsn
                    data1 = response.desp
                    data2 = response.qty
                    data3 = response.price
                    data4 = response.gst
                    data5 = response.sgst
                    
                    document.getElementById('hsn110').value = data
                    document.getElementById('description10').value = data1
                    document.getElementById('qtyspan10').innerHTML = data2;
                    document.getElementById('unit110').value = data3

                    
                    
                    if (place == '{{ cmp1.state }}')
                    {
                      document.getElementById('ta110').innerHTML = data4 + ' % GST';
                      document.getElementById('ta110').value=data4

                    } 
                    
                    document.getElementById('ta510').innerHTML  = data5 + ' % IGST';
                    document.getElementById('ta510').value=data5

                    if (data2<1)
                    {
                      
                      
                      document.getElementById('qtyspan10').style.color="red";
                    }
                    else{
                      pass
                    }
                }

      });
    });
    $(document).on('click','#product11',function(){
      select = $('#product11').val();
      $.ajax({
        type: "GET",
        url: "{% url 'getitems2' %}",
        data: {
          id: select
        },
        success:function(response){
                    console.log(response)
                    data = response.hsn
                    data1 = response.desp
                    data2 = response.qty
                    data3 = response.price
                    data4 = response.gst
                    data5 = response.sgst
                    
                    document.getElementById('hsn111').value = data
                    document.getElementById('description11').value = data1
                    document.getElementById('qtyspan11').innerHTML = data2;
                    document.getElementById('unit111').value = data3

                    
                    
                    if (place == '{{ cmp1.state }}')
                    {
                      document.getElementById('ta111').innerHTML = data4 + ' % GST';
                      document.getElementById('ta111').value=data4

                    } 
                    
                    document.getElementById('ta511').innerHTML  = data5 + ' % IGST';
                    document.getElementById('ta511').value=data5

                    if (data2<1)
                    {
                      
                      
                      document.getElementById('qtyspan11').style.color="red";
                    }
                    else{
                      pass
                    }
                }
      
      
      });
    });

    $(document).on('click','#product12',function(){
      select = $('#product12').val();
      $.ajax({
        type: "GET",
        url: "{% url 'getitems2' %}",
        data: {
          id: select
        },
        success:function(response){
                    console.log(response)
                    data = response.hsn
                    data1 = response.desp
                    data2 = response.qty
                    data3 = response.price
                    data4 = response.gst
                    data5 = response.sgst
                    
                    document.getElementById('hsn112').value = data
                    document.getElementById('description12').value = data1
                    document.getElementById('qtyspan12').innerHTML = data2;
                    document.getElementById('unit112').value = data3

                    
                    
                    if (place == '{{ cmp1.state }}')
                    {
                      document.getElementById('ta112').innerHTML = data4 + ' % GST';
                      document.getElementById('ta112').value=data4

                    } 
                    
                    document.getElementById('ta512').innerHTML  = data5 + ' % IGST';
                    document.getElementById('ta512').value=data5

                    if (data2<1)
                    {
                      
                      
                      document.getElementById('qtyspan12').style.color="red";
                    }
                    else{
                      pass
                    }
                }
      
      
      });
    });
    $(document).on('click','#product13',function(){
      select = $('#product13').val();
      $.ajax({
        type: "GET",
        url: "{% url 'getitems2' %}",
        data: {
          id: select
        },
        success:function(response){
                    console.log(response)
                    data = response.hsn
                    data1 = response.desp
                    data2 = response.qty
                    data3 = response.price
                    data4 = response.gst
                    data5 = response.sgst
                    
                    document.getElementById('hsn113').value = data
                    document.getElementById('description13').value = data1
                    document.getElementById('qtyspan13').innerHTML = data2;
                    document.getElementById('unit113').value = data3

                    
                    
                    if (place == '{{ cmp1.state }}')
                    {
                      document.getElementById('ta113').innerHTML = data4 + ' % GST';
                      document.getElementById('ta113').value=data4

                    } 
                    
                    document.getElementById('ta513').innerHTML  = data5 + ' % IGST';
                    document.getElementById('ta513').value=data5

                    if (data2<1)
                    {
                      
                      
                      document.getElementById('qtyspan13').style.color="red";
                    }
                    else{
                      pass
                    }
                }

      });
    });
    $(document).on('click','#product14',function(){
      select = $('#product14').val();
      $.ajax({
        type: "GET",
        url: "{% url 'getitems2' %}",
        data: {
          id: select
        },
        success:function(response){
                    console.log(response)
                    data = response.hsn
                    data1 = response.desp
                    data2 = response.qty
                    data3 = response.price
                    data4 = response.gst
                    data5 = response.sgst
                    
                    document.getElementById('hsn114').value = data
                    document.getElementById('description14').value = data1
                    document.getElementById('qtyspan14').innerHTML = data2;
                    document.getElementById('unit114').value = data3

                    
                    
                    if (place == '{{ cmp1.state }}')
                    {
                      document.getElementById('ta114').innerHTML = data4 + ' % GST';
                      document.getElementById('ta114').value=data4

                    } 
                    
                    document.getElementById('ta514').innerHTML  = data5 + ' % IGST';
                    document.getElementById('ta514').value=data5

                    if (data2<1)
                    {
                      
                      
                      document.getElementById('qtyspan14').style.color="red";
                    }
                    else{
                      pass
                    }
                }

      });
    });
    $(document).on('click','#product15',function(){
      select = $('#product15').val();
      $.ajax({
        type: "GET",
        url: "{% url 'getitems2' %}",
        data: {
          id: select
        },
        success:function(response){
                    console.log(response)
                    data = response.hsn
                    data1 = response.desp
                    data2 = response.qty
                    data3 = response.price
                    data4 = response.gst
                    data5 = response.sgst
                    
                    document.getElementById('hsn115').value = data
                    document.getElementById('description15').value = data1
                    document.getElementById('qtyspan15').innerHTML = data2;
                    document.getElementById('unit115').value = data3

                    
                    
                    if (place == '{{ cmp1.state }}')
                    {
                      document.getElementById('ta115').innerHTML = data4 + ' % GST';
                      document.getElementById('ta115').value=data4

                    } 
                    
                    document.getElementById('ta515').innerHTML  = data5 + ' % IGST';
                    document.getElementById('ta515').value=data5

                    if (data2<1)
                    {
                      
                      
                      document.getElementById('qtyspan15').style.color="red";
                    }
                    else{
                      pass
                    }
                }

      });
    });

    $(document).on('click','#product16',function(){
      select = $('#product16').val();
      $.ajax({
        type: "GET",
        url: "{% url 'getitems2' %}",
        data: {
          id: select
        },
        success:function(response){
                    console.log(response)
                    data = response.hsn
                    data1 = response.desp
                    data2 = response.qty
                    data3 = response.price
                    data4 = response.gst
                    data5 = response.sgst
                    
                    document.getElementById('hsn116').value = data
                    document.getElementById('description16').value = data1
                    document.getElementById('qtyspan16').innerHTML = data2;
                    document.getElementById('unit116').value = data3

                    
                    
                    if (place == '{{ cmp1.state }}')
                    {
                      document.getElementById('ta116').innerHTML = data4 + ' % GST';
                      document.getElementById('ta116').value=data4

                    } 
                    
                    document.getElementById('ta516').innerHTML  = data5 + ' % IGST';
                    document.getElementById('ta516').value=data5

                    if (data2<1)
                    {
                      
                      
                      document.getElementById('qtyspan16').style.color="red";
                    }
                    else{
                      pass
                    }
                }

      });
    });
    $(document).on('click','#product17',function(){
      select = $('#product17').val();
      $.ajax({
        type: "GET",
        url: "{% url 'getitems2' %}",
        data: {
          id: select
        },
        success:function(response){
                    console.log(response)
                    data = response.hsn
                    data1 = response.desp
                    data2 = response.qty
                    data3 = response.price
                    data4 = response.gst
                    data5 = response.sgst
                    
                    document.getElementById('hsn117').value = data
                    document.getElementById('description17').value = data1
                    document.getElementById('qtyspan17').innerHTML = data2;
                    document.getElementById('unit117').value = data3

                    
                    
                    if (place == '{{ cmp1.state }}')
                    {
                      document.getElementById('ta117').innerHTML = data4 + ' % GST';
                      document.getElementById('ta117').value=data4

                    } 
                    
                    document.getElementById('ta517').innerHTML  = data5 + ' % IGST';
                    document.getElementById('ta517').value=data5

                    if (data2<1)
                    {
                      
                      
                      document.getElementById('qtyspan17').style.color="red";
                    }
                    else{
                      pass
                    }
                }

      });
    });
    $(document).on('click','#product18',function(){
      select = $('#product18').val();
      $.ajax({
        type: "GET",
        url: "{% url 'getitems2' %}",
        data: {
          id: select
        },
        success:function(response){
                    console.log(response)
                    data = response.hsn
                    data1 = response.desp
                    data2 = response.qty
                    data3 = response.price
                    data4 = response.gst
                    data5 = response.sgst
                    
                    document.getElementById('hsn118').value = data
                    document.getElementById('description18').value = data1
                    document.getElementById('qtyspan18').innerHTML = data2;
                    document.getElementById('unit118').value = data3

                    
                    
                    if (place == '{{ cmp1.state }}')
                    {
                      document.getElementById('ta118').innerHTML = data4 + ' % GST';
                      document.getElementById('ta118').value=data4

                    } 
                    
                    document.getElementById('ta518').innerHTML  = data5 + ' % IGST';
                    document.getElementById('ta518').value=data5


                    if (data2<1)
                    {
                      
                      
                      document.getElementById('qtyspan18').style.color="red";
                    }
                    else{
                      pass
                    }
                }

      });
    });
    $(document).on('click','#product19',function(){
      select = $('#product19').val();
      $.ajax({
        type: "GET",
        url: "{% url 'getitems2' %}",
        data: {
          id: select
        },
        success:function(response){
                    console.log(response)
                    data = response.hsn
                    data1 = response.desp
                    data2 = response.qty
                    data3 = response.price
                    data4 = response.gst
                    data5 = response.sgst
                    
                    document.getElementById('hsn119').value = data
                    document.getElementById('description19').value = data1
                    document.getElementById('qtyspan19').innerHTML = data2;
                    document.getElementById('unit119').value = data3

                    
                    
                    if (place == '{{ cmp1.state }}')
                    {
                      document.getElementById('ta119').innerHTML = data4 + ' % GST';
                      document.getElementById('ta119').value=data4

                    } 
                    
                    document.getElementById('ta519').innerHTML  = data5 + ' % IGST';
                    document.getElementById('ta519').value=data5

                    if (data2<1)
                    {
                      
                      
                      document.getElementById('qtyspan19').style.color="red";
                    }
                    else{
                      pass
                    }
                }

      });
    });
    $(document).on('click','#product120',function(){
      select = $('#product120').val();
      $.ajax({
        type: "GET",
        url: "{% url 'getitems2' %}",
        data: {
          id: select
        },
        success:function(response){
                    console.log(response)
                    data = response.hsn
                    data1 = response.desp
                    data2 = response.qty
                    data3 = response.price
                    data4 = response.gst
                    data5 = response.sgst
                    
                    document.getElementById('hsn120').value = data
                    document.getElementById('description20').value = data1
                    document.getElementById('qtyspan20').innerHTML = data2;
                    document.getElementById('unit120').value = data3

                    
                    
                    if (place == '{{ cmp1.state }}')
                    {
                      document.getElementById('ta120').innerHTML = data4 + ' % GST';
                      document.getElementById('ta120').value=data4

                    } 
                    
                    document.getElementById('ta520').innerHTML  = data5 + ' % IGST';
                    document.getElementById('ta520').value=data5
                    if (data2<1)
                    {
                      
                      
                      document.getElementById('qtyspan20').style.color="red";
                    }
                    else{
                      pass
                    }
                }

      });
    });
 

  });

</script>



<style>
  input {
    background-color: #2f516f;
    border: 0;
    border-radius: 5px;
    color: white;
  }
</style>
<form action="{% url 'updateinvoice2' invoice.invoiceid %}" method="post" class="needs-validation" enctype="multipart/form-data" novalidate>
  {% csrf_token %}
  <div class="page-content">
    <!--breadcrumb-->
    <div class="card radius-15">
      <div class="card-body">
        <div class="card-title">
          <center>
            <h3 class="mb-0" id="invnumb">INVOICE</h3>
          </center>
        </div>
        <hr />
      </div>
    </div>
    <div class="card radius-15">
      <div class="card-body">
        <div id="invoice">

          <div class="row">
            <div class="col">
              <center>
                <!-- <h2>Fin sYs</h2> -->
              </center>
            </div>
          </div>
          <!-- <div class="company-details mb-4">
            <h5 class="text-info">{{ cmp1.cname }}</h5>
            <h5 class="text-info">{{ cmp1.cemail }}</h5>
          </div> -->
          <div class="row">
            <div class="col-md-3 mt-3">
              <label class="col-form-label">Select Customer</label>
              <div class="d-flex">
                <input name="customername" value="{{ invoice.customername }}" id="select" class="form-control" style="background-color: #2f516f; color: white;">
              </div>
            </div>
            <div class="col-md-3 mt-3">
              <label class="col-form-label">Email </label>
              <input class="custom-select" name="email" value="{{ invoice.email }}" placeholder="Email" required style="background-color: #2f516f; color: white;" id="email">
            </div>
            <div class="col-md-3 mt-3"></div>
            <div class="col-md-3 mt-3"></div>
          </div>
          <div class="row">
            <div class="col-md-3 mt-3">
              <label class="col-form-label">Invoice Date:</label>
              <input type="date" value="{{ invoice.invoicedate | date:'Y-m-d' }}" class="form-control" name="invoicedate" style="background-color: #2f516f; color: white;" name="invoicedate" style="background-color: #2f516f; color: white;">
            </div>
            <div class="col-md-3 mt-3">
              <label class="col-form-label">Terms </label>
              <div>
                <select class="custom-select" name="terms" required style="background-color: #2f516f; color: white;" id="termadd" onclick="showinp('newtrm', this)">
                  <option selected id="trmopt">{{ invoice.terms }}</option>
                  <option value="0">Due on Receipt</option>
                  <option value="15">NET15</option>
                  <option value="30">NET30</option>
                  <option value="60">NET60</option>
                  <option value="Add New Term">Add New Term</option>
                </select>
              </div>
            </div>
            <div class="col-md-3 mt-3">
              <label class="col-form-label">Due Date:</label>
              <input type="text" value="{{ invoice.duedate }}" id="duedat" class="form-control" name="duedate" style="background-color: #2f516f; color: white;">
            </div>
            <div class="col-md-3 mt-3"></div>
            <div class="col-md-3 mt-3"></div>
          </div>

          <div class="row">
            <div class="col-md-3 mt-3">
              <label class="text-gray-light">Bill To:</label>
              <textarea class="form-control mb-4" name="bname" id="bname" rows="7" type="text" style="background-color: #2f516f; color: white;">{{ invoice.bname }}</textarea>
            </div>
            <div class="col-md-3 mt-3">
              <input type="number" class="form-control mt-4" id="newtrm" placeholder="0" onchange="addtemopt(this)" style="display: none;">
            </div>
            <div class="col-md-3 mt-3"></div>
            <div class="col-md-3 mt-3">
            </div>
          </div>
          <div class="row">
            <div class="col-md-3 mt-3">
              <label class="col-form-label">Place of supply</label>
              <select type="text" class="form-control" id="plosu" name="placosupply" style="background-color: #2f516f; color: white;" onchange="state(this)">
                <option value="{{ invoice.placosupply }}" selected> {{ invoice.placosupply }}</option>
                <option value="Andaman and Nicobar Islads">Andaman and Nicobar Islads</option>
                <option value="Andhra Predhesh">Andhra Predhesh</option>
                <option value="Arunachal Predesh">Arunachal Predesh</option>
                <option value="Assam">Assam</option>
                <option value="Bihar">Bihar</option>
                <option value="Chandigarh">Chandigarh</option>
                <option value="Chhattisgarh">Chhattisgarh</option>
                <option value="Dadra and Nagar Haveli">Dadra and Nagar Haveli</option>
                <option value="Damn anad Diu">Damn anad Diu</option>
                <option value="Delhi">Delhi</option>
                <option value="Goa">Goa</option>
                <option value="Gujarat">Gujarat</option>
                <option value="Haryana">Haryana</option>
                <option value="Himachal Predesh">Himachal Predesh</option>
                <option value="Jammu and Kashmir">Jammu and Kashmir</option>
                <option value="Jharkhand">Jharkhand</option>
                <option value="Karnataka">Karnataka</option>
                <option value="Kerala">Kerala</option>
                <option value="Ladakh">Ladakh</option>
                <option value="Lakshadweep">Lakshadweep</option>
                <option value="Madhya Predesh">Madhya Predesh</option>
                <option value="Maharashtra">Maharashtra</option>
                <option value="Manipur">Manipur</option>
                <option value="Meghalaya">Meghalaya</option>
                <option value="Mizoram">Mizoram</option>
                <option value="Nagaland">Nagaland</option>
                <option value="Odisha">Odisha</option>
                <option value="Puducherry">Puducherry</option>
                <option value="Punjab">Punjab</option>
                <option value="Rajasthan">Rajasthan</option>
                <option value="Sikkim">Sikkim</option>
                <option value="Tamil Nadu">Tamil Nadu</option>
                <option value="Telangana">Telangana</option>
                <option value="Tripura">Tripura</option>
                <option value="Uttar Predesh">Uttar Predesh</option>
                <option value="Uttarakhand">Uttarakhand</option>
                <option value="West Bengal">West Bengal</option>
                <option value="Other Territory">Other Territory</option>
              </select>
            </div>
            <div class="col-md-3 mt-3"></div>
            <div class="col-md-3 mt-3"></div>
            <div class="col-md-3 mt-3"></div>
          </div>
          <div class="row clearfix">
            <div class="col-md-12 table-responsive-md mt-3">
              <table class="table table-bordered table-hover mt-3" id="tab_logic">
                <thead>
                  <tr>
                    <th class="text-center">#</th>
                    <th class="text-center">PRODUCT / SERVICE</th>
                    <th class="text-center">HSN</th>
                    <th class="text-center">DESCRIPTION</th>
                    <th class="text-center">QTY</th>
                    <th class="text-center">PRICE</th>
                    <th class="text-center">TAX (%)</th>
                    <th class="text-center">TOTAL</th>
                    
                  </tr>
                </thead>
                <tbody id="items-table-body">

                  {% for j in invitem %}
                  <tr id='addr0{{ forloop.counter }}'>
                    <td>{{ forloop.counter }}
                      <input type="text"  name='id[]' value="{{ j.id }}" hidden>
                    </td>
                    <td>
                      <select name='product[]' id="product{{ forloop.counter }}" class="form-control" style="background-color: #2f516f; color: white;">

                        <option value="{{ j.product }}" selected>{{ j.product }}</option>
                        {% for i in item %}
                        {% if i.cid_id == cmp1.cid %}
                            <option 
                                    value="{{ i.name  }}">{{ i.name  }} </option>
                        {% endif %}
                        {% endfor %}
                        <!-- {% for proinv in inv %}
                        {% if proinv.cid_id == cmp1.cid %}
                        <option text="{{ proinv.inventoryid }}" value="{{ proinv.name }}">{{ proinv.name }} </option>
                        {% endif %}
                        {% endfor %}
                        {% for proinv in noninv %}
                        {% if proinv.cid_id == cmp1.cid %}
                        <option text="{{ proinv.noninventoryid }}" value="{{ proinv.name }}">{{ proinv.name }} </option>
                        {% endif %}
                        {% endfor %}
                        {% for proinv in bun %}
                        {% if proinv.cid_id == cmp1.cid %}
                        <option text="{{ proinv.bundleid }}" value="{{ proinv.name }}">{{ proinv.name }} </option>
                        {% endif %}
                        {% endfor %} -->
                      </select>
                    </td>
                    <td><input type="text" name='hsn[]'  value="{{ j.hsn }}" id="hsn1{{ forloop.counter }}" placeholder='Enter HSN Code' class="form-control" style="background-color: #2f516f; color: white;" /></td>
                    <td><input type="text" name='description[]'  value="{{ j.description }}"  id="description{{ forloop.counter }}" placeholder='Description' class="form-control" style="background-color: #2f516f; color: white;" /></td>
                    <td><input type="number" name='qty[]' value="{{ j.qty }}" onchange="qtychange1(this)" placeholder='Enter Qty' id="qty1{{ forloop.counter }}" value=0 class="form-control qty" step=0 min=0 style="background-color: #2f516f;margin-top: 21px;  color: white;" />
                      <div><span>Available Qty :</span><span id="qtyspan{{ forloop.counter }}" class=''></span></div>
                    </td>
                    <td><input type="number" name='price[]' value="{{ j.price }}" id="unit1{{ forloop.counter }}" placeholder='Enter Unit Price' class="form-control price" step="0.00" min="0" style="background-color: #2f516f; color: white;" /></td>
                    
                    
                   
                    <td>
                      <select name='tax[]' id="tax" class="form-control tax" style="background-color: #2f516f; color: white;">
                        <option id="ta1{{ forloop.counter }}" value={{ j.tax }} text={{ cmp1.state }}>{{ j.tax }}
                          % GST
                        </option>
                        <option value=28 text={{ cmp1.state }}>28.0% GST(28%)</option>
                        <option value=18 text={{ cmp1.state }}>18.0% GST(18%)</option>
                        <option value=12 text={{ cmp1.state }}>12.0% GST(12%)</option>
                        <option value=6 text={{ cmp1.state }}>06.0% GST(06%)</option>
                        <option value=5 text={{ cmp1.state }}>05.0% GST(05%)</option>
                        <option value=3 text={{ cmp1.state }}>03.0% GST(03%)</option>
                        <option value=.25 text={{ cmp1.state }}>0.25% GST(0.25%)</option>
                        <option value=0 text={{ cmp1.state }}>0.0% GST(0%)</option>
                        <option value=0 text={{ cmp1.state }}>Exempt GST(0%)</option>
                        <option value=0 text={{ cmp1.state }}>Out of Scope(0%)</option>
                        <option id="ta5{{ forloop.counter }}" text=" " value={{ j.tax }}>{{ j.tax }} %
                          IGST
                        </option>
                        <option value=28 text=" ">28.0% IGST(28%)</option>
                        <option value=18 text=" ">18.0% IGST(18%)</option>
                        <option value=12 text=" ">12.0% IGST(12%)</option>
                        <option value=6 text=" ">06.0% IGST(06%)</option>
                        <option value=5 text=" ">05.0% IGST(05%)</option>
                        <option value=3 text=" ">03.0% IGST(03%)</option>
                        <option value=.25 text=" ">0.25% IGST(0.25%)</option>
                        <option value=0 text=" ">0.0% IGST(0%)</option>
                        <option value=0 text=" ">Exempt IGST(0%)</option>
                        <option value=0 text=" ">Out of Scope(0%)</option>
                      </select>
                    </td>
                    <td><input type="number" name='total[]' value="{{ j.total }}" id="total1{{ forloop.counter }}" placeholder=0 class="form-control total" value=0 step="any" readonly style="background-color: #2f516f; color: white;" /></td>
                    <td style="display: none;"><input type="number" step="any" name='taxamount1' id="taxamount1{{ forloop.counter }}" class="form-control taxamount" />
                    </td>
                    <td><button type="button" id="{{ forloop.counter }}" class="btn btn-danger remove_row">-
                    </button></td>
                  </tr>
                  
                  
                  
                  {% endfor %}
                  


                </tbody>
                <tr>
                  <td style="border: none;"><a class="btn btn-outline-secondary ml-1" role="button" id="add" >+</a></td>
                </tr>
                
              </table>
              

            </div>
          </div>
          <div class="row clearfix" style="margin-top:20px">
            <div class="col-md-6">

                <textarea class="form-control"  id="" name="Note" placeholder="Note" style="height: 190px;" value="{{ invoice.note }}">{{ invoice.note }}</textarea>

                <input type="file" name="file"  style="margin-top: 10px; width: 70%;">
            </div>

           
            <div class="col-md-6 table-responsive-md" style="margin-top: 8px; "  >
                

                <div>
                    
                    <label class="text-center  form-control" style=" width: 35%; font-weight: 10; background-color: #2f516f; color: white; ">Sub Total</label>
                    <input  type="number" step="any" name='subtotal' placeholder=0 class="form-control"  id="subtotal"  value="{{ invoice.subtotal }}"
                    style="width: 40%; margin-top: -45px; float: right; margin-right: 10px;"   readonly/>
                </div>
                <div id="IGST">  
                    <label class="text-center  form-control" style=" width: 35%; font-weight: 10; background-color: #2f516f; color: white; " >IGST</label>
                    <input type="number" value="{{ invoice.IGST }}"
                    name='IGST'
                    id="tax_amount"
                    placeholder='0.00'
                    class="form-control"
                     style="width: 40%; margin-top: -45px; float: right; margin-right: 10px;"   readonly/>

                </div>
                <div id="CGST" style="display: none;">
                    <label class="text-center  form-control" style=" width: 35%; font-weight: 10; background-color: #2f516f; color: white; ">CGST</label>
                    <input type="number" name='CGST' step="any" id="cgst" placeholder=0  value="{{ invoice.CGST }}"
                    class="form-control"
                     style="width: 40%; margin-top: -45px; float: right; margin-right: 10px;"   readonly/>

                </div>
                <div id="SGST" style="display: none;">
                    <label class="text-center  form-control" style=" width: 35%; font-weight: 10; background-color: #2f516f; color: white; ">SGST</label>
                    <input type="number" name='SGST' step="any" id="sgst" placeholder=0 value="{{ invoice.SGST }}"
                    class="form-control"
                     style="width: 40%; margin-top: -45px; float: right; margin-right: 10px;"   readonly/>

                </div>

                <div style="display: none;">
                    <label class="text-center  form-control " style=" width: 18%; font-weight: 10; background-color: #2f516f; color: white; ">TCS</label>
                    <select class="form-control tcs" style="width: 35%; margin-top: -45px; margin-left:20%;
                    background-color: #2f516f; color: white;" id="tcs1" onchange="calc_tcs()" >
                        <option value="" selected>Select a Tax</option>
                        <option value="1">Cess 1%</option>
                    </select>
                    <input type="number"     value="{{ invoice.TCS}}"                       
                    id="tcs_amount"
                    name='TCS'
                    placeholder='0.00'
                    class="form-control"
                     style="width: 40%;  float: right; margin-right: 10px; margin-top: -38px; "   readonly/>

                </div>

                <div style="margin-top: 8px;">
                    <a class=" btn text-center  form-control" style=" width: 35%; font-weight: 10; background-color: #2f516f; color: white; " onclick="calc_roundoff()">
                        Round off</a>
                    <input type="number"
                    name=''
                    id="round_off"
                    placeholder='0.00'
                    class="form-control"
                     style="width: 40%; margin-top: px; float: right; margin-right: 10px;"   readonly/>

                </div>

                <div style="margin-top: 8px;">
                    <label class="text-center  form-control" style=" width: 35%; font-weight: 10; background-color: #2f516f; color: white; ">Grand Total</label>
                    <input type="number" name='grandtotal' id="grandtotal"  step="any" value="{{ invoice.grandtotal}}"  
                    class="form-control"
                     style="width: 40%; margin-top: -45px; float: right; margin-right: 10px;"   readonly/>

                </div>

                <div style="margin-top: 8px;">
                  <label class="text-center  form-control" style=" width: 35%; font-weight: 10; background-color: #2f516f; color: white; ">Amount Received</label>
                  <input type="number" name='amtrecvd' id="amtrecvd" value=0 step="any"
                  class="form-control"
                  style="width: 40%; margin-top: -45px; float: right; margin-right: 10px;"   readonly/>

              </div>
              <div style="margin-top: 8px;">
                <label class="text-center  form-control" style=" width: 35%; font-weight: 10; background-color: #2f516f; color: white; ">Balance Due</label>
                <input type="number" name='baldue' id="baldue" placeholder=0 step="any" value="{{ invoice.baldue}}"  
                class="form-control"
                style="width: 40%; margin-top: -45px; float: right; margin-right: 10px;"   readonly/>

            </div>
                
                
            </div>
        </div>


        
          <div class="row">
            <div class="col-md-10 mt-3"></div>
            <div class="col-md-2 mt-3">
              <button type="submit" class="btn btn-outline-info rounded-pill w-100 text-grey pull-left">
                Save To Draft
              </button>
            </div>
          </div>
          <div class="notices mt-3">
            <div class="text-muted">NOTICE:</div>
            <div class="text-muted">
              Fin sYs Terms and Conditions Apply
            </div>
          </div>
          <footer class="text-muted">Invoice was created on a computer and is valid without the
            signature and seal.
          </footer>
        </div>
      </div>
    </div>
  </div>
</form>

<!-- 
    modal -->

    <div class="modal fade" id="newcust">
        <div class="modal-dialog modal-xl">
            <div class="modal-content" style="background-color: #213b52;">
                <div class="modal-header">
                    <h3 class="m-3">ADD CUSTOMER</h3>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            <div class="modal-body">

                <form action="new_customers3" method="POST">{% csrf_token %}

                    <div class="row">
                        <div class="col-md-4 mt-3">
                            <label for="validationCustom01">Title</label>
                            <select name="title" id="title" class="form-control" id="validationCustom01">
                                <option value="Mr">Mr</option>
                                <option value="Mrs">Mrs</option>
                                <option value="Miss">Miss</option>
                                <option value="Ms">Ms</option>
                            </select>
                            <div class="valid-feedback">Looks good!</div>
                        </div>
                        <div class="col-md-4 mt-3">
                            <label for="validationCustom02">First name</label>
                            <input type="text" class="form-control" id="validationCustom02" name="firstname"
                                   required style="background-color: #2f516f;color: white;">
                            <div class="valid-feedback">Looks good!</div>
                        </div>
                        <div class="col-md-4 mt-3">
                            <label for="validationCustom02">Last name</label>
                            <input type="text" class="form-control" id="validationCustom02" name="lastname"
                                   required style="background-color: #2f516f;color: white;">
                            <div class="valid-feedback">Looks good!</div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4 mt-3">
                            <label for="validationCustom03">Company</label>
                            <input type="text" class="form-control" id="validationCustom03" name="company"
                                    style="background-color: #2f516f;color: white;">
                            <div class="valid-feedback">Looks good!</div>
                        </div>
                        <div class="col-md-4 mt-3">
                            <label for="validationCustom03">Location</label>
                            <input type="text" class="form-control" id="validationCustom03" name="location"
                                   style="background-color: #2f516f;color: white;">
                            <div class="valid-feedback">Looks good!</div>
                        </div>
                        <div class="col-md-4 mt-3"></div>
                    </div>
                    <div class="row">
                        <div class="col-md-4 mt-3">
                            <label for="validationCustom04">GST type</label>
                            <select class="custom-select" id="validationCustom04" name="gsttype"
                                    onclick="hidinput('hello1',this)   "
                                    
                                    required
                                    style="background-color: #243e54; color: white;">
                                <option selected disabled value="">Choose...</option>
                                <option>GST registered- Regular</option>
                                <option>GST registered- Composition</option>
                                <option>GST unregistered</option>
                                <option>Consumer</option>
                                <option>Overseas</option>
                                <option>SEZ</option>
                                <option>Deemed exports - EOU's STP's EHTP's etc</option>
                            </select>
                            <div class="invalid-feedback">Please select a valid registration type.</div>
                        </div>

                        <div class="col-md-4 mt-3" id="hello1" style="display: none;">
                            <div >
                                <label for="validationCustom05">GSTIN</label>
                                <input type="text" class="form-control" onchange="checkgst(this)"
                                       id="validationCustom05" name="gstin"
                                       style="background-color: #2f516f;color: white;"
                                       value=""
                                       placeholder="29APPCK7465F1Z1">
                                       <a data-toggle="modal" href="#exampleModal"
                                style="color:#3dd5f3">Get Taxpayer Details</a>
                                <div class="text-danger m-2" id="warngst"></div>
                            </div>
                        </div>

                        
                        <!-- <div class="col-md-4 mt-3" id="hai">
                            <div >
                                <label for="validationCustom05">BUSINESS LEGAL NAME</label>
                                <input type="text" class="form-control" 
                                       
                                       style="background-color: #2f516f;color: white;"
                                       >
                                <div class="text-danger m-2" id="warngst"></div>
                            </div>
                        </div>

                        <div class="col-md-4 mt-3" id="hai1">
                            <div >
                                <label for="validationCustom05">BUSINESS TRADE NAME</label>
                                <input type="text" class="form-control" 
                                       
                                       style="background-color: #2f516f;color: white;"
                                       >
                                <div class="text-danger m-2" id="warngst"></div>
                            </div>
                        </div> -->
                        
                    

                        <div class="col-md-4 mt-3">
                            <label for="validationCustom03">PAN NO</label>
                            <input type="text" class="form-control" id="validationCustom03" name="panno"
                                    style="background-color: #2f516f;color: white;"
                                   onchange="checkpan(this)" placeholder="APPCK7465F">
                            <div class="text-danger m-2" id="warnpan"></div>
                        </div>

                        <!-- <div class="col-md-4 mt-3" id="hai1">
                            <div >
                                <label for="validationCustom05">PLACE OF SUPPLY</label>
                                <input type="text" class="form-control" 
                                       
                                       style="background-color: #2f516f;color: white;"
                                       >
                                <div class="text-danger m-2" id="warngst"></div>
                            </div>
                        </div>

                        <div class="col-md-4 mt-3" id="hai1">
                            <div >
                                <label for="validationCustom05">TAX PERFERENCE</label>
                                <input type="text" class="form-control" 
                                       
                                       style="background-color: #2f516f;color: white;">
                                <div class="text-danger m-2" id="warngst"></div>
                            </div>
                        </div>
                        <div class="col-md-4 mt-3" >
                            <div>
                                <label for="validationCustom05">TAX RETURNS</label><br>
                                <input type="radio" name="Returns" 
                                       
                                       style="background-color: #2f516f;color: white;"> Taxable
                                       <input type="radio" name="Returns"  
                                       style="background-color: #2f516f;color: white;"> Non Taxable
                                <div class="text-danger m-2" id="warngst"></div>
                            </div>
                        </div> -->
                    </div>

                    

                    

                    <div class="row">
                        <div class="col-md-4 mt-3">
                            <label for="validationCustom03">Email</label>
                            <input type="email" class="form-control" id="validationCustom03" name="email"
                                   style="background-color: #2f516f;color: white;"
                                   placeholder="finsys@mail.com">
                            <div class="invalid-feedback">Please provide a valid Email</div>
                        </div>
                        <div class="col-md-4 mt-3">
                            <label for="validationCustom03">Website</label>
                            <input type="text" class="form-control" id="validationCustom03"
                                   placeholder="www.finsys.com" onchange="checkweb(this)" name="website"
                                   style="background-color: #2f516f;color: white;">
                            <div id="warnweb" class="text-danger"></div>
                        </div>
                        <div class="col-md-4 mt-3">
                            <label for="validationCustom01">Mobile</label>
                            <input type="text" class="form-control" id="validationCustom01"
                                   onchange="checkphone(this)" name="mobile"
                                    style="background-color: #2f516f;color: white;">
                            <div class="text-danger m-2" id="warnphone"></div>
                        </div>
                    </div>
                    <hr>
                    <div class="row">
                        <div class="col-md-6 mt-5">
                            <div class="row">
                                <div class="col-md-12 card-title">
                                    <h5 class="mb-0">Billing Address</h5>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12 mt-3">
                                    <div class="form-row">
                                        <label for="street">Street</label>
                                        <textarea class="form-control street" id="street" name="street"
                                                  
                                                  style="background-color: #2f516f;color: white;"></textarea>
                                        <div class="invalid-feedback">Please provide a valid Street</div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 mt-3">
                                    <div class="form-row">
                                        <label for="city">City</label>
                                        <input type="text" class="form-control" id="city"
                                               name="city"
                                               
                                               style="background-color: #2f516f;color: white;" placeholder="City">
                                        <div class="invalid-feedback">Please provide a valid City</div>
                                    </div>
                                </div>
                                <div class="col-md-6 mt-3">
                                    <div class="form-row">
                                        <label for="state">State</label>
                                        <select type="text" class="form-control" id="state" name="state"
                                                style="background-color: #2f516f; color: white;">
                                            <option value="" disabled selected>Choose</option>
                                            <option value="Andaman and Nicobar Islads">Andaman and Nicobar Islads
                                            </option>
                                            <option value="Andhra Predhesh">Andhra Predhesh</option>
                                            <option value="Arunachal Predesh">Arunachal Predesh</option>
                                            <option value="Assam">Assam</option>
                                            <option value="Bihar">Bihar</option>
                                            <option value="Chandigarh">Chandigarh</option>
                                            <option value="Chhattisgarh">Chhattisgarh</option>
                                            <option value="Dadra and Nagar Haveli">Dadra and Nagar Haveli</option>
                                            <option value="Damn anad Diu">Damn anad Diu</option>
                                            <option value="Delhi">Delhi</option>
                                            <option value="Goa">Goa</option>
                                            <option value="Gujarat">Gujarat</option>
                                            <option value="Haryana">Haryana</option>
                                            <option value="Himachal Predesh">Himachal Predesh</option>
                                            <option value="Jammu and Kashmir">Jammu and Kashmir</option>
                                            <option value="Jharkhand">Jharkhand</option>
                                            <option value="Karnataka">Karnataka</option>
                                            <option value="Kerala">Kerala</option>
                                            <option value="Ladakh">Ladakh</option>
                                            <option value="Lakshadweep">Lakshadweep</option>
                                            <option value="Madhya Predesh">Madhya Predesh</option>
                                            <option value="Maharashtra">Maharashtra</option>
                                            <option value="Manipur">Manipur</option>
                                            <option value="Meghalaya">Meghalaya</option>
                                            <option value="Mizoram">Mizoram</option>
                                            <option value="Nagaland">Nagaland</option>
                                            <option value="Odisha">Odisha</option>
                                            <option value="Puducherry">Puducherry</option>
                                            <option value="Punjab">Punjab</option>
                                            <option value="Rajasthan">Rajasthan</option>
                                            <option value="Sikkim">Sikkim</option>
                                            <option value="Tamil Nadu">Tamil Nadu</option>
                                            <option value="Telangana">Telangana</option>
                                            <option value="Tripura">Tripura</option>
                                            <option value="Uttar Predesh">Uttar Predesh</option>
                                            <option value="Uttarakhand">Uttarakhand</option>
                                            <option value="West Bengal">West Bengal</option>
                                            <option value="Other Territory">Other Territory</option>
                                        </select>
                                        <div class="invalid-feedback">Please provide a valid State</div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 mt-3">
                                    <div class="form-row">
                                        <label for="pinco">Pin Code</label>
                                        <input type="text" class="form-control" id="pinco"
                                               name="pincode"
                                                style="background-color: #2f516f;color: white;"
                                               placeholder="PIN code">
                                        <div class="invalid-feedback">Please provide a valid Pin Code</div>
                                    </div>
                                </div>
                                <div class="col-md-6 mt-3">
                                    <div class="form-row">
                                        <label for="country">Country</label>
                                        <input type="text" class="form-control" id="country"
                                               name="country"
                                               style="background-color: #2f516f;color: white;"
                                               placeholder="Country">
                                        <div class="invalid-feedback">Please provide a valid Country</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 mt-5">
                            <div class="row">
                                <div class="col-md-12 d-flex">
                                    <h5>Shipping Address</h5>
                                    <input class="ml-4 mt-2 ml-2" type="checkbox" onclick="poppins()" id="okay"
                                           name="okay">
                                    <label class="ml-2 mt-1 ml-2" for="okay">Same As Billing Address</label>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12 mt-3">
                                    <div class="form-row">
                                        <label for="shipstreet">Street</label>
                                        <textarea class="form-control" id="shipstreet"
                                                  name="shipstreet"
                                                  
                                                  style="background-color: #2f516f;color: white;"></textarea>
                                        <div class="invalid-feedback">Please provide a valid Street</div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 mt-3">
                                    <div class="form-row">
                                        <label for="shipcity">City</label>
                                        <input type="text" class="form-control" id="shipcity"
                                               name="shipcity"
                                               
                                               style="background-color: #2f516f;color: white;" placeholder="City">
                                        <div class="invalid-feedback">Please provide a valid City</div>
                                    </div>
                                </div>
                                <div class="col-md-6 mt-3">
                                    <div class="form-row">
                                        <label for="shipstate">State</label>
                                        <select type="text" class="form-control" id="plosu" name="shipstate"
                                                style="background-color: #2f516f; color: white;">
                                            <option id="shipst" selected>Choose</option>
                                            <option value="Andaman and Nicobar Islads">Andaman and Nicobar Islads
                                            </option>
                                            <option value="Andhra Predhesh">Andhra Predhesh</option>
                                            <option value="Arunachal Predesh">Arunachal Predesh</option>
                                            <option value="Assam">Assam</option>
                                            <option value="Bihar">Bihar</option>
                                            <option value="Chandigarh">Chandigarh</option>
                                            <option value="Chhattisgarh">Chhattisgarh</option>
                                            <option value="Dadra and Nagar Haveli">Dadra and Nagar Haveli</option>
                                            <option value="Damn anad Diu">Damn anad Diu</option>
                                            <option value="Delhi">Delhi</option>
                                            <option value="Goa">Goa</option>
                                            <option value="Gujarat">Gujarat</option>
                                            <option value="Haryana">Haryana</option>
                                            <option value="Himachal Predesh">Himachal Predesh</option>
                                            <option value="Jammu and Kashmir">Jammu and Kashmir</option>
                                            <option value="Jharkhand">Jharkhand</option>
                                            <option value="Karnataka">Karnataka</option>
                                            <option value="Kerala">Kerala</option>
                                            <option value="Ladakh">Ladakh</option>
                                            <option value="Lakshadweep">Lakshadweep</option>
                                            <option value="Madhya Predesh">Madhya Predesh</option>
                                            <option value="Maharashtra">Maharashtra</option>
                                            <option value="Manipur">Manipur</option>
                                            <option value="Meghalaya">Meghalaya</option>
                                            <option value="Mizoram">Mizoram</option>
                                            <option value="Nagaland">Nagaland</option>
                                            <option value="Odisha">Odisha</option>
                                            <option value="Puducherry">Puducherry</option>
                                            <option value="Punjab">Punjab</option>
                                            <option value="Rajasthan">Rajasthan</option>
                                            <option value="Sikkim">Sikkim</option>
                                            <option value="Tamil Nadu">Tamil Nadu</option>
                                            <option value="Telangana">Telangana</option>
                                            <option value="Tripura">Tripura</option>
                                            <option value="Uttar Predesh">Uttar Predesh</option>
                                            <option value="Uttarakhand">Uttarakhand</option>
                                            <option value="West Bengal">West Bengal</option>
                                            <option value="Other Territory">Other Territory</option>
                                        </select>
                                        <div class="invalid-feedback">Please provide a valid State</div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 mt-3">
                                    <div class="form-row">
                                        <label for="shippinco">Pin Code</label>
                                        <input type="text" class="form-control" id="shippinco"
                                               name="shippincode"
                                                style="background-color: #2f516f;color: white;"
                                               placeholder="PIN code">
                                        <div class="invalid-feedback">Please provide a valid Pin Code</div>
                                    </div>
                                </div>
                                <div class="col-md-6 mt-3">
                                    <div class="form-row">
                                        <label for="shipcountry">Country</label>
                                        <input type="text" class="form-control" id="shipcountry"
                                               name="shipcountry"
                                               style="background-color: #2f516f;color: white;"
                                               placeholder="Country">
                                        <div class="invalid-feedback">Please provide a valid Country</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="" id="invalidCheck" required
                                       style="background-color: #2f516f;">
                                <label>Agree to terms and conditions</label>
                                <div class="invalid-feedback">You must agree before submitting.</div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4"></div>
                        <div class="col-md-4">
                            <button class="btn btn-outline-info rounded-pill text-grey w-100 mt-3 mb-3"
                                    type="submit">
                                Submit form
                            </button>
                        </div>
                        <div class="col-md-4"></div>
                    </div>

                </form>


              
            </div>
            
          </div>
        </div>


        
      </div>







<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>


<script>
  function state(element) {
      
      if (element.value == 'Kerala' ) {
          document.getElementById('CGST').style.display = 'block';
          document.getElementById('SGST').style.display = 'block';
          document.getElementById('IGST').style.display = 'none';
          
          
      } else {
          document.getElementById('CGST').style.display = 'none';
          document.getElementById('SGST').style.display = 'none';
          document.getElementById('IGST').style.display = 'block';
      }
  }
</script>


<script>
  $(document).ready(function() {
    var balandue = document.getElementById('baldue').value;
    if (balandue == '0.0') {
      document.getElementById('paid').innerHTML = 'PAID';
    } else {
      document.getElementById('paid').innerHTML = ' '
    }



    // select = $('#product').val();
    // $.ajax({
    //   type: "GET",
    //   url: "{% url 'getitems' %}",
    //   data: {
    //     id: select
    //   }
    // }).done(function(response) {
    //   var json_data = JSON.parse(response);
    //   for (key in json_data) {
    //     document.getElementById('hsn1').value = json_data[key]['hsn'];
    //     document.getElementById('description').value = json_data[key]['description'];
    //     if (json_data[key]['initialqty'] == '' || json_data[key]['initialqty'] == undefined) {
    //       document.getElementById('qtyspan').innerHTML = '';
    //     } else {
    //       document.getElementById('qtyspan').innerHTML = 'Available Quantity : ' + json_data[key]['initialqty'];
    //     }
    //     if (json_data[key]['item'] == 'bundle') {
    //       document.getElementById('unit1').value = 0;
    //       document.getElementById('unit1').style.display = 'none';
    //       document.getElementById('tax1').style.display = 'none';
    //       document.getElementById('total1').style.display = 'none';
    //     } else {
    //       document.getElementById('unit1').value = json_data[key]['salesprice'];
    //       var place = document.getElementById('plosu').value;
    //       if (place == '{{ cmp1.state }}') {
    //         document.getElementById('unit1').style.display = 'block';
    //         document.getElementById('tax1').style.display = 'block';
    //         document.getElementById('total1').style.display = 'block';
    //         document.getElementById('ta1').value = json_data[key]['tax'];
    //         document.getElementById('ta1').innerHTML = json_data[key]['tax'] + ' % GST';
    //       } else if (place != '{{ cmp1.state }}') {
    //         document.getElementById('unit1').style.display = 'block';
    //         document.getElementById('tax1').style.display = 'block';
    //         document.getElementById('total1').style.display = 'block';
    //         document.getElementById('ta5').value = json_data[key]['tax'];
    //         document.getElementById('ta5').innerHTML = json_data[key]['tax'] + ' % IGST';
    //       }
    //     }
    //     if (json_data[key]['qty1'] == undefined || json_data[key]['qty1'] == 0) {
    //       document.getElementById('bun1').style.display = 'none';
    //     } else {
    //       document.getElementById('bun1').style.display = 'table-row';
    //       document.getElementById('product11').value = json_data[key]['product1'];
    //       document.getElementById('hsn11').value = json_data[key]['hsn1'];
    //       document.getElementById('description11').value = json_data[key]['description1'];
    //       document.getElementById('qty111').value = json_data[key]['qty1'];
    //       document.getElementById('qty11').value = json_data[key]['qty1'] * parseInt('{{ invoice.qty }}');
    //       document.getElementById('creqty11').value = json_data[key]['qty1'] * parseInt('{{ invoice.qty }}');
    //       document.getElementById('unit11').value = json_data[key]['price1'];
    //       document.getElementById('total11').value = json_data[key]['price1'] * parseFloat(document.getElementById('qty11').value);
    //       document.getElementById('ototal11').value = json_data[key]['price1'] * parseFloat(document.getElementById('qty11').value);
    //       document.getElementById('tax11').value = json_data[key]['tax1'];
    //       document.getElementById('otax11').value = json_data[key]['tax1'];
    //     }
    //     if (json_data[key]['qty2'] == undefined || json_data[key]['qty2'] == 0) {
    //       document.getElementById('bun2').style.display = 'none';
    //     } else {
    //       document.getElementById('bun2').style.display = 'table-row';
    //       document.getElementById('product12').value = json_data[key]['product2'];
    //       document.getElementById('hsn12').value = json_data[key]['hsn2'];
    //       document.getElementById('description12').value = json_data[key]['description2'];
    //       document.getElementById('qty12').value = json_data[key]['qty2'] * parseInt('{{ invoice.qty }}');
    //       document.getElementById('creqty12').value = json_data[key]['qty2'] * parseInt('{{ invoice.qty }}');
    //       document.getElementById('qty121').value = json_data[key]['qty2'];
    //       document.getElementById('unit12').value = json_data[key]['price2'];
    //       console.log('{{ invoice.qty }}', typeof '{{ invoice.qty }}')
    //       document.getElementById('total12').value = json_data[key]['price2'] * parseInt(document.getElementById('qty12').value);
    //       document.getElementById('ototal12').value = json_data[key]['price2'] * parseInt(document.getElementById('qty12').value);
    //       document.getElementById('tax12').value = json_data[key]['tax2'];
    //       document.getElementById('otax12').value = json_data[key]['tax2'];
    //     }
    //     if (json_data[key]['qty3'] == undefined || json_data[key]['qty3'] == 0) {
    //       document.getElementById('bun3').style.display = 'none';
    //     } else {
    //       document.getElementById('bun3').style.display = 'table-row';
    //       document.getElementById('product13').value = json_data[key]['product3'];
    //       document.getElementById('hsn13').value = json_data[key]['hsn3'];
    //       document.getElementById('description13').value = json_data[key]['description3'];
    //       document.getElementById('qty13').value = json_data[key]['qty3'] * parseInt('{{ invoice.qty }}');
    //       document.getElementById('creqty13').value = json_data[key]['qty3'] * parseInt('{{ invoice.qty }}');
    //       document.getElementById('qty131').value = json_data[key]['qty3'];
    //       document.getElementById('unit13').value = json_data[key]['price3'];
    //       document.getElementById('total13').value = json_data[key]['price3'] * parseInt(document.getElementById('qty13').value);
    //       document.getElementById('ototal13').value = json_data[key]['price3'] * parseInt(document.getElementById('qty13').value);
    //       document.getElementById('tax13').value = json_data[key]['tax3'];
    //       document.getElementById('otax13').value = json_data[key]['tax3'];
    //     }
    //     if (json_data[key]['qty4'] == undefined || json_data[key]['qty4'] == 0) {
    //       document.getElementById('bun4').style.display = 'none';
    //     } else {
    //       document.getElementById('bun4').style.display = 'table-row';
    //       document.getElementById('product14').value = json_data[key]['product4'];
    //       document.getElementById('hsn14').value = json_data[key]['hsn4'];
    //       document.getElementById('description14').value = json_data[key]['description4'];
    //       document.getElementById('qty14').value = json_data[key]['qty4'] * parseInt('{{ invoice.qty }}');
    //       document.getElementById('creqty14').value = json_data[key]['qty4'] * parseInt('{{ invoice.qty }}');
    //       document.getElementById('qty141').value = json_data[key]['qty4'];
    //       document.getElementById('unit14').value = json_data[key]['price4'];
    //       document.getElementById('total14').value = json_data[key]['price4'] * parseInt(document.getElementById('qty14').value);
    //       document.getElementById('ototal14').value = json_data[key]['price4'] * parseInt(document.getElementById('qty14').value);
    //       document.getElementById('tax14').value = json_data[key]['tax4'];
    //       document.getElementById('otax14').value = json_data[key]['tax4'];
    //     }
    //   }
    // });
    // select = $('#product2').val();
    // $.ajax({
    //   type: "GET",
    //   url: "{% url 'getitems' %}",
    //   data: {
    //     id: select
    //   }
    // }).done(function(response) {
    //   var json_data = JSON.parse(response);
    //   for (key in json_data) {
    //     document.getElementById('hsn2').value = json_data[key]['hsn'];
    //     document.getElementById('description2').value = json_data[key]['description'];
    //     if (json_data[key]['initialqty'] == '' || json_data[key]['initialqty'] == undefined) {
    //       document.getElementById('qtyspan1').innerHTML = '';
    //     } else {
    //       document.getElementById('qtyspan1').innerHTML = 'Available Quantity : ' + json_data[key]['initialqty'];
    //     }
    //     if (json_data[key]['item'] == 'bundle') {
    //       document.getElementById('unit2').value = 0;
    //       document.getElementById('unit2').style.display = 'none';
    //       document.getElementById('tax2').style.display = 'none';
    //       document.getElementById('total2').style.display = 'none';
    //     } else {
    //       document.getElementById('unit2').value = json_data[key]['salesprice'];
    //       var place = document.getElementById('plosu').value;
    //       if (place == '{{ cmp1.state }}') {
    //         document.getElementById('unit2').style.display = 'block';
    //         document.getElementById('tax2').style.display = 'block';
    //         document.getElementById('total2').style.display = 'block';
    //         document.getElementById('ta2').value = json_data[key]['tax'];
    //         document.getElementById('ta2').innerHTML = json_data[key]['tax'] + ' % GST';
    //       } else if (place != '{{ cmp1.state }}') {
    //         document.getElementById('unit2').style.display = 'block';
    //         document.getElementById('tax2').style.display = 'block';
    //         document.getElementById('total2').style.display = 'block';
    //         document.getElementById('ta6').value = json_data[key]['tax'];
    //         document.getElementById('ta6').innerHTML = json_data[key]['tax'] + ' % IGST';
    //       }
    //     }
    //     if (json_data[key]['qty1'] == undefined || json_data[key]['qty1'] == 0) {
    //       document.getElementById('bun5').style.display = 'none';
    //     } else {
    //       document.getElementById('bun5').style.display = 'table-row';
    //       document.getElementById('product21').value = json_data[key]['product1'];
    //       document.getElementById('hsn21').value = json_data[key]['hsn1'];
    //       document.getElementById('description21').value = json_data[key]['description1'];
    //       document.getElementById('qty21').value = json_data[key]['qty1'] * parseInt('{{ invoice.qty2 }}');
    //       document.getElementById('creqty21').value = json_data[key]['qty1'] * parseInt('{{ invoice.qty2 }}');
    //       document.getElementById('qty211').value = json_data[key]['qty1'];
    //       document.getElementById('unit21').value = json_data[key]['price1'];
    //       document.getElementById('total21').value = json_data[key]['price1'] * parseInt(document.getElementById('qty21').value);
    //       document.getElementById('ototal21').value = json_data[key]['price1'] * parseInt(document.getElementById('qty21').value);
    //       document.getElementById('tax21').value = json_data[key]['tax1'];
    //       document.getElementById('otax21').value = json_data[key]['tax1'];
    //     }
    //     if (json_data[key]['qty2'] == undefined || json_data[key]['qty2'] == 0) {
    //       document.getElementById('bun6').style.display = 'none';
    //     } else {
    //       document.getElementById('bun6').style.display = 'table-row';
    //       document.getElementById('product22').value = json_data[key]['product2'];
    //       document.getElementById('hsn22').value = json_data[key]['hsn2'];
    //       document.getElementById('description22').value = json_data[key]['description2'];
    //       document.getElementById('qty22').value = json_data[key]['qty2'] * parseInt('{{ invoice.qty2 }}');
    //       document.getElementById('creqty22').value = json_data[key]['qty2'] * parseInt('{{ invoice.qty2 }}');
    //       document.getElementById('qty221').value = json_data[key]['qty2'];
    //       document.getElementById('unit22').value = json_data[key]['price2'];
    //       document.getElementById('total22').value = json_data[key]['price2'] * parseInt(document.getElementById('qty22').value);
    //       document.getElementById('ototal22').value = json_data[key]['price2'] * parseInt(document.getElementById('qty22').value);
    //       document.getElementById('tax22').value = json_data[key]['tax2'];
    //       document.getElementById('otax22').value = json_data[key]['tax2'];
    //     }
    //     if (json_data[key]['qty3'] == undefined || json_data[key]['qty3'] == 0) {
    //       document.getElementById('bun7').style.display = 'none';
    //     } else {
    //       document.getElementById('bun7').style.display = 'table-row';
    //       document.getElementById('product23').value = json_data[key]['product3'];
    //       document.getElementById('hsn23').value = json_data[key]['hsn3'];
    //       document.getElementById('description23').value = json_data[key]['description3'];
    //       document.getElementById('qty23').value = json_data[key]['qty3'] * parseInt('{{ invoice.qty2 }}');
    //       document.getElementById('creqty23').value = json_data[key]['qty3'] * parseInt('{{ invoice.qty2 }}');
    //       document.getElementById('qty231').value = json_data[key]['qty3'];
    //       document.getElementById('unit23').value = json_data[key]['price3'];
    //       document.getElementById('total23').value = json_data[key]['price3'] * parseInt(document.getElementById('qty23').value);
    //       document.getElementById('ototal23').value = json_data[key]['price3'] * parseInt(document.getElementById('qty23').value);
    //       document.getElementById('tax23').value = json_data[key]['tax3'];
    //       document.getElementById('otax23').value = json_data[key]['tax3'];
    //     }
    //     if (json_data[key]['qty4'] == undefined || json_data[key]['qty4'] == 0) {
    //       document.getElementById('bun8').style.display = 'none';
    //     } else {
    //       document.getElementById('bun8').style.display = 'table-row';
    //       document.getElementById('product24').value = json_data[key]['product4'];
    //       document.getElementById('hsn24').value = json_data[key]['hsn4'];
    //       document.getElementById('description24').value = json_data[key]['description4'];
    //       document.getElementById('qty24').value = json_data[key]['qty4'] * parseInt('{{ invoice.qty2 }}');
    //       document.getElementById('creqty24').value = json_data[key]['qty4'] * parseInt('{{ invoice.qty2 }}');
    //       document.getElementById('qty241').value = json_data[key]['qty4'];
    //       document.getElementById('unit24').value = json_data[key]['price4'];
    //       document.getElementById('total24').value = json_data[key]['price4'] * parseInt(document.getElementById('qty24').value);
    //       document.getElementById('ototal24').value = json_data[key]['price4'] * parseInt(document.getElementById('qty24').value);
    //       document.getElementById('tax24').value = json_data[key]['tax4'];
    //       document.getElementById('otax24').value = json_data[key]['tax4'];
    //     }
    //   }
    // });
    // select = $('#product3').val();
    // $.ajax({
    //   type: "GET",
    //   url: "{% url 'getitems' %}",
    //   data: {
    //     id: select
    //   }
    // }).done(function(response) {
    //   var json_data = JSON.parse(response);
    //   for (key in json_data) {
    //     document.getElementById('hsn3').value = json_data[key]['hsn'];
    //     document.getElementById('description3').value = json_data[key]['description'];
    //     if (json_data[key]['initialqty'] == '' || json_data[key]['initialqty'] == undefined) {
    //       document.getElementById('qtyspan2').innerHTML = '';
    //     } else {
    //       document.getElementById('qtyspan2').innerHTML = 'Available Quantity : ' + json_data[key]['initialqty'];
    //     }
    //     if (json_data[key]['item'] == 'bundle') {
    //       document.getElementById('unit3').value = 0;
    //       document.getElementById('unit3').style.display = 'none';
    //       document.getElementById('tax3').style.display = 'none';
    //       document.getElementById('total3').style.display = 'none';
    //     } else {
    //       document.getElementById('unit3').value = json_data[key]['salesprice'];
    //       var place = document.getElementById('plosu').value;
    //       if (place == '{{ cmp1.state }}') {
    //         document.getElementById('unit3').style.display = 'block';
    //         document.getElementById('tax3').style.display = 'block';
    //         document.getElementById('total3').style.display = 'block';
    //         document.getElementById('ta3').value = json_data[key]['tax'];
    //         document.getElementById('ta3').innerHTML = json_data[key]['tax'] + ' % GST';
    //       } else if (place != '{{ cmp1.state }}') {
    //         document.getElementById('unit3').style.display = 'block';
    //         document.getElementById('tax3').style.display = 'block';
    //         document.getElementById('total3').style.display = 'block';
    //         document.getElementById('ta7').value = json_data[key]['tax'];
    //         document.getElementById('ta7').innerHTML = json_data[key]['tax'] + ' % IGST';
    //       }
    //     }
    //     if (json_data[key]['qty1'] == undefined || json_data[key]['qty1'] == 0) {
    //       document.getElementById('bun9').style.display = 'none';
    //     } else {
    //       document.getElementById('bun9').style.display = 'table-row';
    //       document.getElementById('product31').value = json_data[key]['product1'];
    //       document.getElementById('hsn31').value = json_data[key]['hsn1'];
    //       document.getElementById('description31').value = json_data[key]['description1'];
    //       document.getElementById('qty31').value = json_data[key]['qty1'] * parseInt('{{ invoice.qty3 }}');
    //       document.getElementById('creqty31').value = json_data[key]['qty1'] * parseInt('{{ invoice.qty3 }}');
    //       document.getElementById('qty311').value = json_data[key]['qty1'];
    //       document.getElementById('unit31').value = json_data[key]['price1'];
    //       document.getElementById('total31').value = json_data[key]['price1'] * parseInt(document.getElementById('qty31').value);
    //       document.getElementById('ototal31').value = json_data[key]['price1'] * parseInt(document.getElementById('qty31').value);
    //       document.getElementById('tax31').value = json_data[key]['tax1'];
    //       document.getElementById('otax31').value = json_data[key]['tax1'];
    //     }
    //     if (json_data[key]['qty2'] == undefined || json_data[key]['qty2'] == 0) {
    //       document.getElementById('bun10').style.display = 'none';
    //     } else {
    //       document.getElementById('bun10').style.display = 'table-row';
    //       document.getElementById('product32').value = json_data[key]['product2'];
    //       document.getElementById('hsn32').value = json_data[key]['hsn2'];
    //       document.getElementById('description32').value = json_data[key]['description2'];
    //       document.getElementById('qty32').value = json_data[key]['qty2'] * parseInt('{{ invoice.qty3 }}');
    //       document.getElementById('creqty32').value = json_data[key]['qty2'] * parseInt('{{ invoice.qty3 }}');
    //       document.getElementById('qty321').value = json_data[key]['qty2'];
    //       document.getElementById('unit32').value = json_data[key]['price2'];
    //       document.getElementById('total32').value = json_data[key]['price2'] * parseInt(document.getElementById('qty32').value);
    //       document.getElementById('ototal32').value = json_data[key]['price2'] * parseInt(document.getElementById('qty32').value);
    //       document.getElementById('tax32').value = json_data[key]['tax2'];
    //       document.getElementById('otax32').value = json_data[key]['tax2'];
    //     }
    //     if (json_data[key]['qty3'] == undefined || json_data[key]['qty3'] == 0) {
    //       document.getElementById('bun11').style.display = 'none';
    //     } else {
    //       document.getElementById('bun11').style.display = 'table-row';
    //       document.getElementById('product33').value = json_data[key]['product3'];
    //       document.getElementById('hsn33').value = json_data[key]['hsn3'];
    //       document.getElementById('description33').value = json_data[key]['description3'];
    //       document.getElementById('qty33').value = json_data[key]['qty3'] * parseInt('{{ invoice.qty3 }}');
    //       document.getElementById('creqty33').value = json_data[key]['qty3'] * parseInt('{{ invoice.qty3 }}');
    //       document.getElementById('qty331').value = json_data[key]['qty3'];
    //       document.getElementById('unit33').value = json_data[key]['price3'];
    //       document.getElementById('total33').value = json_data[key]['price3'] * parseInt(document.getElementById('qty33').value);
    //       document.getElementById('ototal33').value = json_data[key]['price3'] * parseInt(document.getElementById('qty33').value);
    //       document.getElementById('tax33').value = json_data[key]['tax3'];
    //       document.getElementById('otax33').value = json_data[key]['tax3'];
    //     }
    //     if (json_data[key]['qty4'] == undefined || json_data[key]['qty4'] == 0) {
    //       document.getElementById('bun12').style.display = 'none';
    //     } else {
    //       document.getElementById('bun12').style.display = 'table-row';
    //       document.getElementById('product34').value = json_data[key]['product4'];
    //       document.getElementById('hsn34').value = json_data[key]['hsn4'];
    //       document.getElementById('description34').value = json_data[key]['description4'];
    //       document.getElementById('qty34').value = json_data[key]['qty4'] * parseInt('{{ invoice.qty3 }}');
    //       document.getElementById('creqty34').value = json_data[key]['qty4'] * parseInt('{{ invoice.qty3 }}');
    //       document.getElementById('qty341').value = json_data[key]['qty4'];
    //       document.getElementById('unit34').value = json_data[key]['price4'];
    //       document.getElementById('total34').value = json_data[key]['price4'] * parseInt(document.getElementById('qty34').value);
    //       document.getElementById('ototal34').value = json_data[key]['price4'] * parseInt(document.getElementById('qty34').value);
    //       document.getElementById('tax34').value = json_data[key]['tax4'];
    //       document.getElementById('otax34').value = json_data[key]['tax4'];
    //     }
    //   }
    // })
    // select = $('#product4').val();
    // $.ajax({
    //   type: "GET",
    //   url: "{% url 'getitems' %}",
    //   data: {
    //     id: select
    //   }
    // }).done(function(response) {
    //   var json_data = JSON.parse(response);
    //   for (key in json_data) {
    //     document.getElementById('hsn4').value = json_data[key]['hsn'];
    //     document.getElementById('description4').value = json_data[key]['description'];
    //     if (json_data[key]['initialqty'] == '' || json_data[key]['initialqty'] == undefined) {
    //       document.getElementById('qtyspan3').innerHTML = '';
    //     } else {
    //       document.getElementById('qtyspan3').innerHTML = 'Available Quantity : ' + json_data[key]['initialqty'];
    //     }
    //     if (json_data[key]['item'] == 'bundle') {
    //       document.getElementById('unit4').value = 0;
    //       document.getElementById('unit4').style.display = 'none';
    //       document.getElementById('tax4').style.display = 'none';
    //       document.getElementById('total4').style.display = 'none';
    //     } else {
    //       document.getElementById('unit4').value = json_data[key]['salesprice'];
    //       var place = document.getElementById('plosu').value;
    //       if (place == '{{ cmp1.state }}') {
    //         document.getElementById('unit4').style.display = 'block';
    //         document.getElementById('tax4').style.display = 'block';
    //         document.getElementById('total4').style.display = 'block';
    //         document.getElementById('ta4').value = json_data[key]['tax'];
    //         document.getElementById('ta4').innerHTML = json_data[key]['tax'] + ' % GST';
    //       } else if (place != '{{ cmp1.state }}') {
    //         document.getElementById('unit4').style.display = 'block';
    //         document.getElementById('tax4').style.display = 'block';
    //         document.getElementById('total4').style.display = 'block';
    //         document.getElementById('ta8').value = json_data[key]['tax'];
    //         document.getElementById('ta8').innerHTML = json_data[key]['tax'] + ' % IGST';
    //       }
    //     }
    //     if (json_data[key]['qty1'] == undefined || json_data[key]['qty1'] == 0) {
    //       document.getElementById('bun13').style.display = 'none';
    //     } else {
    //       document.getElementById('bun13').style.display = 'table-row';
    //       document.getElementById('product41').value = json_data[key]['product1'];
    //       document.getElementById('hsn41').value = json_data[key]['hsn1'];
    //       document.getElementById('description41').value = json_data[key]['description1'];
    //       document.getElementById('qty41').value = json_data[key]['qty1'] * parseInt('{{ invoice.qty4 }}');
    //       document.getElementById('creqty41').value = json_data[key]['qty1'] * parseInt('{{ invoice.qty4 }}');
    //       document.getElementById('qty411').value = json_data[key]['qty1'];
    //       document.getElementById('unit41').value = json_data[key]['price1'];
    //       document.getElementById('total41').value = json_data[key]['price1'] * parseInt(document.getElementById('qty41').value);
    //       document.getElementById('ototal41').value = json_data[key]['price1'] * parseInt(document.getElementById('qty41').value);
    //       document.getElementById('tax41').value = json_data[key]['tax1'];
    //       document.getElementById('otax41').value = json_data[key]['tax1'];
    //     }
    //     if (json_data[key]['qty2'] == undefined || json_data[key]['qty2'] == 0) {
    //       document.getElementById('bun14').style.display = 'none';
    //     } else {
    //       document.getElementById('bun14').style.display = 'table-row';
    //       document.getElementById('product42').value = json_data[key]['product2'];
    //       document.getElementById('hsn42').value = json_data[key]['hsn2'];
    //       document.getElementById('description42').value = json_data[key]['description2'];
    //       document.getElementById('qty42').value = json_data[key]['qty2'] * parseInt('{{ invoice.qty4 }}');
    //       document.getElementById('creqty42').value = json_data[key]['qty2'] * parseInt('{{ invoice.qty4 }}');
    //       document.getElementById('qty421').value = json_data[key]['qty2'];
    //       document.getElementById('unit42').value = json_data[key]['price2'];
    //       document.getElementById('total42').value = json_data[key]['price2'] * parseInt(document.getElementById('qty42').value);
    //       document.getElementById('ototal42').value = json_data[key]['price2'] * parseInt(document.getElementById('qty42').value);
    //       document.getElementById('tax42').value = json_data[key]['tax2'];
    //       document.getElementById('otax42').value = json_data[key]['tax2'];
    //     }
    //     if (json_data[key]['qty3'] == undefined || json_data[key]['qty3'] == 0) {
    //       document.getElementById('bun15').style.display = 'none';
    //     } else {
    //       document.getElementById('bun15').style.display = 'table-row';
    //       document.getElementById('product43').value = json_data[key]['product3'];
    //       document.getElementById('hsn43').value = json_data[key]['hsn3'];
    //       document.getElementById('description43').value = json_data[key]['description3'];
    //       document.getElementById('qty43').value = json_data[key]['qty3'] * parseInt('{{ invoice.qty4 }}');
    //       document.getElementById('creqty43').value = json_data[key]['qty3'] * parseInt('{{ invoice.qty4 }}');
    //       document.getElementById('qty431').value = json_data[key]['qty3'];
    //       document.getElementById('unit43').value = json_data[key]['price3'];
    //       document.getElementById('total43').value = json_data[key]['price3'] * parseInt(document.getElementById('qty43').value);
    //       document.getElementById('ototal43').value = json_data[key]['price3'] * parseInt(document.getElementById('qty43').value);
    //       document.getElementById('tax43').value = json_data[key]['tax3'];
    //       document.getElementById('otax43').value = json_data[key]['tax3'];
    //     }
    //     if (json_data[key]['qty4'] == undefined || json_data[key]['qty4'] == 0) {
    //       document.getElementById('bun16').style.display = 'none';
    //     } else {
    //       document.getElementById('bun16').style.display = 'table-row';
    //       document.getElementById('product44').value = json_data[key]['product4'];
    //       document.getElementById('hsn44').value = json_data[key]['hsn4'];
    //       document.getElementById('description44').value = json_data[key]['description4'];
    //       document.getElementById('qty44').value = json_data[key]['qty4'] * parseInt('{{ invoice.qty4 }}');
    //       document.getElementById('creqty44').value = json_data[key]['qty4'] * parseInt('{{ invoice.qty4 }}');
    //       document.getElementById('qty441').value = json_data[key]['qty4'];
    //       document.getElementById('unit44').value = json_data[key]['price4'];
    //       document.getElementById('total44').value = json_data[key]['price4'] * parseInt(document.getElementById('qty44').value);
    //       document.getElementById('ototal44').value = json_data[key]['price4'] * parseInt(document.getElementById('qty44').value);
    //       document.getElementById('tax44').value = json_data[key]['tax4'];
    //       document.getElementById('otax44').value = json_data[key]['tax4'];
    //     }
    //   }
    // });
  });
</script>


<script>
  $('#termadd').on('change', function() {
  
      
  select = $('#termadd').val();
  dudt = $('#duedat').val();
  $.ajax({
    type: "GET",
    url: "{% url 'gettermss' %}",
    data: {
      id: select,
      du:dudt,
    }
  }).done(function(response) {
    var json_data = JSON.parse(response);
    for (key in json_data) {
      document.getElementById('duedat').value = json_data[key]['newdate'];
    }
  }).fail(function() {

  });
  });
</script>

<script>
  function showinp(divId, element) {
    if (element.value == 'Add New Term') {
      document.getElementById(divId).style.display = 'block';
    } else {
      document.getElementById(divId).style.display = 'none';
    }
  }

  function showinnum(divId, element) {
    if (element.value) {
      document.getElementById(divId).innerHTML = "INVOICE NO. " + element.value;
    } else {
      document.getElementById(divId).innerHTML = "INVOICE NO. ";
    }
  }

  function addtemopt(element) {
    var opt = document.getElementById('trmopt');

    if (element.value) {
      opt.value = element.value;
      opt.innerHTML = element.value;
    } else {
      pass
    }
  }

  function qtychange1(element) {
    
    var tx = parseInt(element.value);
    document.getElementById('total11').value =parseInt(document.getElementById('qty11').value) * parseInt(document.getElementById('unit11').value);

    tot1=parseInt(document.getElementById('total11').value)
    tax1=tot1*(parseFloat(document.getElementById('tax1').value)/2)/100
    totals=tot1
    

    document.getElementById('subtotal').value=totals
    document.getElementById('cgst').value=tax1
    document.getElementById('sgst').value=tax1
    grnd=totals+tax1+tax1
    document.getElementById('grandtotal').value=grnd
    document.getElementById('baldue').value=grnd


    
    document.getElementById('total12').value =parseInt(document.getElementById('qty12').value) * parseInt(document.getElementById('unit12').value);

    tot1=parseInt(document.getElementById('total11').value)
    tot2=parseInt(document.getElementById('total12').value)

    tax1=tot1*(parseFloat(document.getElementById('tax1').value)/2)/100
    tax2=tot2*(parseFloat(document.getElementById('tax2').value)/2)/100

    
    
    
    tot_tax=tax1+tax2
    
    totals=tot1+tot2
    
   
    
    document.getElementById('subtotal').value=totals
    document.getElementById('cgst').value=tot_tax
    document.getElementById('sgst').value=tot_tax
    grnd=totals+tot_tax+tot_tax
    document.getElementById('grandtotal').value=grnd
    document.getElementById('baldue').value=grnd
    
    
    document.getElementById('total13').value =parseInt(document.getElementById('qty13').value) * parseInt(document.getElementById('unit13').value);
    tot1=parseFloat(document.getElementById('total11').value)
    tot2=parseFloat(document.getElementById('total12').value)
    tot3=parseFloat(document.getElementById('total13').value)
    
    
    

    totals=tot1+tot2+tot3

    tax1=tot1*(parseFloat(document.getElementById('tax1').value)/2)/100
    tax2=tot2*(parseFloat(document.getElementById('tax2').value)/2)/100
    tax3=tot3*(parseFloat(document.getElementById('tax3').value)/2)/100
    
    tot_tax=tax1+tax2+tax3
    document.getElementById('subtotal').value=totals
    document.getElementById('cgst').value=tot_tax
    document.getElementById('sgst').value=tot_tax
    grnd=totals+tot_tax+tot_tax
    document.getElementById('grandtotal').value=grnd
    document.getElementById('baldue').value=grnd


    
    
    document.getElementById('total14').value =parseInt(document.getElementById('qty14').value) * parseInt(document.getElementById('unit14').value);
    tot1=parseInt(document.getElementById('total11').value)
    tot2=parseInt(document.getElementById('total12').value)
    tot3=parseInt(document.getElementById('total13').value)
    tot4=parseInt(document.getElementById('total14').value)
    totals=tot1+tot2+tot3+tot4
    tax1=tot1*(parseFloat(document.getElementById('tax1').value)/2)/100
    tax2=tot2*(parseFloat(document.getElementById('tax2').value)/2)/100
    tax3=tot3*(parseFloat(document.getElementById('tax3').value)/2)/100
    tax4=tot4*(parseFloat(document.getElementById('tax4').value)/2)/100
   

    
    tot_tax=tax1+tax2+tax3+tax4
    
    
    document.getElementById('subtotal').value=totals
    document.getElementById('cgst').value=tot_tax
    document.getElementById('sgst').value=tot_tax
    grnd=totals+tot_tax+tot_tax
    document.getElementById('grandtotal').value=grnd
    document.getElementById('baldue').value=grnd
    
    document.getElementById('total15').value =parseInt(document.getElementById('qty15').value) * parseInt(document.getElementById('unit15').value);


    tot1=parseInt(document.getElementById('total11').value)
    tot2=parseInt(document.getElementById('total12').value)
    tot3=parseInt(document.getElementById('total13').value)
    tot4=parseInt(document.getElementById('total14').value)
    tot5=parseInt(document.getElementById('total15').value)
    
    totals=tot1+tot2+tot3+tot4+tot5

    tax1=tot1*(parseFloat(document.getElementById('tax1').value)/2)/100
    tax2=tot2*(parseFloat(document.getElementById('tax2').value)/2)/100
    tax3=tot3*(parseFloat(document.getElementById('tax3').value)/2)/100
    tax4=tot4*(parseFloat(document.getElementById('tax4').value)/2)/100
    tax5=tot5*(parseFloat(document.getElementById('tax5').value)/2)/100

    
    tot_tax=tax1+tax2+tax3+tax4+tax5
    
    
    document.getElementById('subtotal').value=totals
    document.getElementById('cgst').value=tot_tax
    document.getElementById('sgst').value=tot_tax
    grnd=totals+tot_tax+tot_tax
    document.getElementById('grandtotal').value=grnd
    document.getElementById('baldue').value=grnd
    
    
    document.getElementById('total16').value =parseInt(document.getElementById('qty16').value) * parseInt(document.getElementById('unit16').value);
    tot1=parseInt(document.getElementById('total11').value)
    tot2=parseInt(document.getElementById('total12').value)
    tot3=parseInt(document.getElementById('total13').value)
    tot4=parseInt(document.getElementById('total14').value)
    tot5=parseInt(document.getElementById('total15').value)
    tot6=parseInt(document.getElementById('total16').value)
    
    totals=tot1+tot2+tot3+tot4+tot5+tot6
    tax1=tot1*(parseFloat(document.getElementById('tax1').value)/2)/100
    tax2=tot2*(parseFloat(document.getElementById('tax2').value)/2)/100
    tax3=tot3*(parseFloat(document.getElementById('tax3').value)/2)/100
    tax4=tot4*(parseFloat(document.getElementById('tax4').value)/2)/100
    tax5=tot5*(parseFloat(document.getElementById('tax5').value)/2)/100
    tax6=tot6*(parseFloat(document.getElementById('tax6').value)/2)/100

    
    tot_tax=tax1+tax2+tax3+tax4+tax5+tax6
    
    
    document.getElementById('subtotal').value=totals
    document.getElementById('cgst').value=tot_tax
    document.getElementById('sgst').value=tot_tax
    grnd=totals+tot_tax+tot_tax
    document.getElementById('grandtotal').value=grnd
    document.getElementById('baldue').value=grnd


    document.getElementById('total17').value =parseInt(document.getElementById('qty17').value) * parseInt(document.getElementById('unit17').value);
    tot1=parseInt(document.getElementById('total11').value)
    tot2=parseInt(document.getElementById('total12').value)
    tot3=parseInt(document.getElementById('total13').value)
    tot4=parseInt(document.getElementById('total14').value)
    tot5=parseInt(document.getElementById('total15').value)
    tot6=parseInt(document.getElementById('total16').value)
    tot7=parseInt(document.getElementById('total17').value)
    
    totals=tot1+tot2+tot3+tot4+tot5+tot6+tot7
    tax1=tot1*(parseFloat(document.getElementById('tax1').value)/2)/100
    tax2=tot2*(parseFloat(document.getElementById('tax2').value)/2)/100
    tax3=tot3*(parseFloat(document.getElementById('tax3').value)/2)/100
    tax4=tot4*(parseFloat(document.getElementById('tax4').value)/2)/100
    tax5=tot5*(parseFloat(document.getElementById('tax5').value)/2)/100
    tax6=tot6*(parseFloat(document.getElementById('tax6').value)/2)/100
    tax7=tot7*(parseFloat(document.getElementById('tax7').value)/2)/100
    
    tot_tax=tax1+tax2+tax3+tax4+tax5+tax6+tax7
    
    
    document.getElementById('subtotal').value=totals
    document.getElementById('cgst').value=tot_tax
    document.getElementById('sgst').value=tot_tax
    grnd=totals+tot_tax+tot_tax
    document.getElementById('grandtotal').value=grnd
    document.getElementById('baldue').value=grnd



    document.getElementById('total18').value =parseInt(document.getElementById('qty18').value) * parseInt(document.getElementById('unit18').value);
    tot1=parseInt(document.getElementById('total11').value)
    tot2=parseInt(document.getElementById('total12').value)
    tot3=parseInt(document.getElementById('total13').value)
    tot4=parseInt(document.getElementById('total14').value)
    tot5=parseInt(document.getElementById('total15').value)
    tot6=parseInt(document.getElementById('total16').value)
    tot7=parseInt(document.getElementById('total17').value)
    tot8=parseInt(document.getElementById('total18').value)
    
    totals=tot1+tot2+tot3+tot4+tot5+tot6+tot7+tot8
    tax1=tot1*(parseFloat(document.getElementById('tax1').value)/2)/100
    tax2=tot2*(parseFloat(document.getElementById('tax2').value)/2)/100
    tax3=tot3*(parseFloat(document.getElementById('tax3').value)/2)/100
    tax4=tot4*(parseFloat(document.getElementById('tax4').value)/2)/100
    tax5=tot5*(parseFloat(document.getElementById('tax5').value)/2)/100
    tax6=tot6*(parseFloat(document.getElementById('tax6').value)/2)/100
    tax7=tot7*(parseFloat(document.getElementById('tax7').value)/2)/100
    tax8=tot8*(parseFloat(document.getElementById('tax8').value)/2)/100
    
   

       
    
    
   
    tot_tax=tax1+tax2+tax3+tax4+tax5+tax6+tax7+tax8
    
    
    document.getElementById('subtotal').value=totals
    document.getElementById('cgst').value=tot_tax
    document.getElementById('sgst').value=tot_tax
    grnd=totals+tot_tax+tot_tax
    document.getElementById('grandtotal').value=grnd
    document.getElementById('baldue').value=grnd


    document.getElementById('total19').value =parseInt(document.getElementById('qty19').value) * parseInt(document.getElementById('unit19').value);
    tot1=parseInt(document.getElementById('total11').value)
    tot2=parseInt(document.getElementById('total12').value)
    tot3=parseInt(document.getElementById('total13').value)
    tot4=parseInt(document.getElementById('total14').value)
    tot5=parseInt(document.getElementById('total15').value)
    tot6=parseInt(document.getElementById('total16').value)
    tot7=parseInt(document.getElementById('total17').value)
    tot8=parseInt(document.getElementById('total18').value)
    tot9=parseInt(document.getElementById('total19').value)
    
    totals=tot1+tot2+tot3+tot4+tot5+tot6+tot7+tot8+tot9
    tax1=tot1*(parseFloat(document.getElementById('tax1').value)/2)/100
    tax2=tot2*(parseFloat(document.getElementById('tax2').value)/2)/100
    tax3=tot3*(parseFloat(document.getElementById('tax3').value)/2)/100
    tax4=tot4*(parseFloat(document.getElementById('tax4').value)/2)/100
    tax5=tot5*(parseFloat(document.getElementById('tax5').value)/2)/100
    tax6=tot6*(parseFloat(document.getElementById('tax6').value)/2)/100
    tax7=tot7*(parseFloat(document.getElementById('tax7').value)/2)/100
    tax8=tot8*(parseFloat(document.getElementById('tax8').value)/2)/100
    tax9=tot9*(parseFloat(document.getElementById('tax9').value)/2)/100
   

       
    
    
   
    tot_tax=tax1+tax2+tax3+tax4+tax5+tax6+tax7+tax8+tax9
    
    
    document.getElementById('subtotal').value=totals
    document.getElementById('cgst').value=tot_tax
    document.getElementById('sgst').value=tot_tax
    grnd=totals+tot_tax+tot_tax
    document.getElementById('grandtotal').value=grnd
    document.getElementById('baldue').value=grnd



    document.getElementById('total110').value =parseInt(document.getElementById('qty110').value) * parseInt(document.getElementById('unit110').value);
    tot1=parseInt(document.getElementById('total11').value)
    tot2=parseInt(document.getElementById('total12').value)
    tot3=parseInt(document.getElementById('total13').value)
    tot4=parseInt(document.getElementById('total14').value)
    tot5=parseInt(document.getElementById('total15').value)
    tot6=parseInt(document.getElementById('total16').value)
    tot7=parseInt(document.getElementById('total17').value)
    tot8=parseInt(document.getElementById('total18').value)
    tot9=parseInt(document.getElementById('total19').value)
    tot10=parseInt(document.getElementById('total110').value)
    
    totals=tot1+tot2+tot3+tot4+tot5+tot6+tot7+tot8+tot9+tot10
    tax1=tot1*(parseFloat(document.getElementById('tax1').value)/2)/100
    tax2=tot2*(parseFloat(document.getElementById('tax2').value)/2)/100
    tax3=tot3*(parseFloat(document.getElementById('tax3').value)/2)/100
    tax4=tot4*(parseFloat(document.getElementById('tax4').value)/2)/100
    tax5=tot5*(parseFloat(document.getElementById('tax5').value)/2)/100
    tax6=tot6*(parseFloat(document.getElementById('tax6').value)/2)/100
    tax7=tot7*(parseFloat(document.getElementById('tax7').value)/2)/100
    tax8=tot8*(parseFloat(document.getElementById('tax8').value)/2)/100
    tax9=tot9*(parseFloat(document.getElementById('tax9').value)/2)/100
    tax10=tot10*(parseFloat(document.getElementById('tax10').value)/2)/100

       
    
    
   
    tot_tax=tax1+tax2+tax3+tax4+tax5+tax6+tax7+tax8+tax9+tax10
    
    
    document.getElementById('subtotal').value=totals
    document.getElementById('cgst').value=tot_tax
    document.getElementById('sgst').value=tot_tax
    grnd=totals+tot_tax+tot_tax
    document.getElementById('grandtotal').value=grnd
    document.getElementById('baldue').value=grnd

    document.getElementById('total111').value =parseInt(document.getElementById('qty111').value) * parseInt(document.getElementById('unit111').value);
    tot1=parseInt(document.getElementById('total11').value)
    tot2=parseInt(document.getElementById('total12').value)
    tot3=parseInt(document.getElementById('total13').value)
    tot4=parseInt(document.getElementById('total14').value)
    tot5=parseInt(document.getElementById('total15').value)
    tot6=parseInt(document.getElementById('total16').value)
    tot7=parseInt(document.getElementById('total17').value)
    tot8=parseInt(document.getElementById('total18').value)
    tot9=parseInt(document.getElementById('total19').value)
    tot10=parseInt(document.getElementById('total110').value)
    tot11=parseInt(document.getElementById('total111').value)
    
    totals=tot1+tot2+tot3+tot4+tot5+tot6+tot7+tot8+tot9+tot10+tot11
    tax1=tot1*(parseFloat(document.getElementById('tax1').value)/2)/100
    tax2=tot2*(parseFloat(document.getElementById('tax2').value)/2)/100
    tax3=tot3*(parseFloat(document.getElementById('tax3').value)/2)/100
    tax4=tot4*(parseFloat(document.getElementById('tax4').value)/2)/100
    tax5=tot5*(parseFloat(document.getElementById('tax5').value)/2)/100
    tax6=tot6*(parseFloat(document.getElementById('tax6').value)/2)/100
    tax7=tot7*(parseFloat(document.getElementById('tax7').value)/2)/100
    tax8=tot8*(parseFloat(document.getElementById('tax8').value)/2)/100
    tax9=tot9*(parseFloat(document.getElementById('tax9').value)/2)/100
    tax10=tot10*(parseFloat(document.getElementById('tax10').value)/2)/100
    tax11=tot11*(parseFloat(document.getElementById('tax11').value)/2)/100
 
    
    
   
    tot_tax=tax1+tax2+tax3+tax4+tax5+tax6+tax7+tax8+tax9+tax10+tax11
    
    
    document.getElementById('subtotal').value=totals
    document.getElementById('cgst').value=tot_tax
    document.getElementById('sgst').value=tot_tax
    grnd=totals+tot_tax+tot_tax
    document.getElementById('grandtotal').value=grnd
    document.getElementById('baldue').value=grnd


    document.getElementById('total112').value =parseInt(document.getElementById('qty112').value) * parseInt(document.getElementById('unit112').value);
    tot1=parseInt(document.getElementById('total11').value)
    tot2=parseInt(document.getElementById('total12').value)
    tot3=parseInt(document.getElementById('total13').value)
    tot4=parseInt(document.getElementById('total14').value)
    tot5=parseInt(document.getElementById('total15').value)
    tot6=parseInt(document.getElementById('total16').value)
    tot7=parseInt(document.getElementById('total17').value)
    tot8=parseInt(document.getElementById('total18').value)
    tot9=parseInt(document.getElementById('total19').value)
    tot10=parseInt(document.getElementById('total110').value)
    tot11=parseInt(document.getElementById('total111').value)
    tot12=parseInt(document.getElementById('total112').value)
    
    totals=tot1+tot2+tot3+tot4+tot5+tot6+tot7+tot8+tot9+tot10+tot11+tot12
    tax1=tot1*(parseFloat(document.getElementById('tax1').value)/2)/100
    tax2=tot2*(parseFloat(document.getElementById('tax2').value)/2)/100
    tax3=tot3*(parseFloat(document.getElementById('tax3').value)/2)/100
    tax4=tot4*(parseFloat(document.getElementById('tax4').value)/2)/100
    tax5=tot5*(parseFloat(document.getElementById('tax5').value)/2)/100
    tax6=tot6*(parseFloat(document.getElementById('tax6').value)/2)/100
    tax7=tot7*(parseFloat(document.getElementById('tax7').value)/2)/100
    tax8=tot8*(parseFloat(document.getElementById('tax8').value)/2)/100
    tax9=tot9*(parseFloat(document.getElementById('tax9').value)/2)/100
    tax10=tot10*(parseFloat(document.getElementById('tax10').value)/2)/100
    tax11=tot11*(parseFloat(document.getElementById('tax11').value)/2)/100
    tax12=tot12*(parseFloat(document.getElementById('tax12').value)/2)/100
    
    
    
   
    tot_tax=tax1+tax2+tax3+tax4+tax5+tax6+tax7+tax8+tax9+tax10+tax11+tax12
    
    
    document.getElementById('subtotal').value=totals
    document.getElementById('cgst').value=tot_tax
    document.getElementById('sgst').value=tot_tax
    grnd=totals+tot_tax+tot_tax
    document.getElementById('grandtotal').value=grnd
    document.getElementById('baldue').value=grnd


    document.getElementById('total113').value =parseInt(document.getElementById('qty113').value) * parseInt(document.getElementById('unit113').value);
    tot1=parseInt(document.getElementById('total11').value)
    tot2=parseInt(document.getElementById('total12').value)
    tot3=parseInt(document.getElementById('total13').value)
    tot4=parseInt(document.getElementById('total14').value)
    tot5=parseInt(document.getElementById('total15').value)
    tot6=parseInt(document.getElementById('total16').value)
    tot7=parseInt(document.getElementById('total17').value)
    tot8=parseInt(document.getElementById('total18').value)
    tot9=parseInt(document.getElementById('total19').value)
    tot10=parseInt(document.getElementById('total110').value)
    tot11=parseInt(document.getElementById('total111').value)
    tot12=parseInt(document.getElementById('total112').value)
    tot13=parseInt(document.getElementById('total113').value)
    
    totals=tot1+tot2+tot3+tot4+tot5+tot6+tot7+tot8+tot9+tot10+tot11+tot12+tot13

    tax1=tot1*(parseFloat(document.getElementById('tax1').value)/2)/100
    tax2=tot2*(parseFloat(document.getElementById('tax2').value)/2)/100
    tax3=tot3*(parseFloat(document.getElementById('tax3').value)/2)/100
    tax4=tot4*(parseFloat(document.getElementById('tax4').value)/2)/100
    tax5=tot5*(parseFloat(document.getElementById('tax5').value)/2)/100
    tax6=tot6*(parseFloat(document.getElementById('tax6').value)/2)/100
    tax7=tot7*(parseFloat(document.getElementById('tax7').value)/2)/100
    tax8=tot8*(parseFloat(document.getElementById('tax8').value)/2)/100
    tax9=tot9*(parseFloat(document.getElementById('tax9').value)/2)/100
    tax10=tot10*(parseFloat(document.getElementById('tax10').value)/2)/100
    tax11=tot11*(parseFloat(document.getElementById('tax11').value)/2)/100
    tax12=tot12*(parseFloat(document.getElementById('tax12').value)/2)/100
    tax13=tot13*(parseFloat(document.getElementById('tax13').value)/2)/100
    
    
   
    tot_tax=tax1+tax2+tax3+tax4+tax5+tax6+tax7+tax8+tax9+tax10+tax11+tax12+tax13
    
    
    document.getElementById('subtotal').value=totals
    document.getElementById('cgst').value=tot_tax
    document.getElementById('sgst').value=tot_tax
    grnd=totals+tot_tax+tot_tax
    document.getElementById('grandtotal').value=grnd
    document.getElementById('baldue').value=grnd


    document.getElementById('total114').value =parseInt(document.getElementById('qty114').value) * parseInt(document.getElementById('unit114').value);
    tot1=parseInt(document.getElementById('total11').value)
    tot2=parseInt(document.getElementById('total12').value)
    tot3=parseInt(document.getElementById('total13').value)
    tot4=parseInt(document.getElementById('total14').value)
    tot5=parseInt(document.getElementById('total15').value)
    tot6=parseInt(document.getElementById('total16').value)
    tot7=parseInt(document.getElementById('total17').value)
    tot8=parseInt(document.getElementById('total18').value)
    tot9=parseInt(document.getElementById('total19').value)
    tot10=parseInt(document.getElementById('total110').value)
    tot11=parseInt(document.getElementById('total111').value)
    tot12=parseInt(document.getElementById('total112').value)
    tot13=parseInt(document.getElementById('total113').value)
    tot14=parseInt(document.getElementById('total114').value)
    
    totals=tot1+tot2+tot3+tot4+tot5+tot6+tot7+tot8+tot9+tot10+tot11+tot12+tot13+tot14
    tax1=tot1*(parseFloat(document.getElementById('tax1').value)/2)/100
    tax2=tot2*(parseFloat(document.getElementById('tax2').value)/2)/100
    tax3=tot3*(parseFloat(document.getElementById('tax3').value)/2)/100
    tax4=tot4*(parseFloat(document.getElementById('tax4').value)/2)/100
    tax5=tot5*(parseFloat(document.getElementById('tax5').value)/2)/100
    tax6=tot6*(parseFloat(document.getElementById('tax6').value)/2)/100
    tax7=tot7*(parseFloat(document.getElementById('tax7').value)/2)/100
    tax8=tot8*(parseFloat(document.getElementById('tax8').value)/2)/100
    tax9=tot9*(parseFloat(document.getElementById('tax9').value)/2)/100
    tax10=tot10*(parseFloat(document.getElementById('tax10').value)/2)/100
    tax11=tot11*(parseFloat(document.getElementById('tax11').value)/2)/100
    tax12=tot12*(parseFloat(document.getElementById('tax12').value)/2)/100
    tax13=tot13*(parseFloat(document.getElementById('tax13').value)/2)/100
    tax14=tot14*(parseFloat(document.getElementById('tax14').value)/2)/100
    
    
   
    tot_tax=tax1+tax2+tax3+tax4+tax5+tax6+tax7+tax8+tax9+tax10+tax11+tax12+tax13+tax14
    
    
    document.getElementById('subtotal').value=totals
    document.getElementById('cgst').value=tot_tax
    document.getElementById('sgst').value=tot_tax
    grnd=totals+tot_tax+tot_tax
    document.getElementById('grandtotal').value=grnd
    document.getElementById('baldue').value=grnd


    document.getElementById('total115').value =parseInt(document.getElementById('qty115').value) * parseInt(document.getElementById('unit115').value);
    tot1=parseInt(document.getElementById('total11').value)
    tot2=parseInt(document.getElementById('total12').value)
    tot3=parseInt(document.getElementById('total13').value)
    tot4=parseInt(document.getElementById('total14').value)
    tot5=parseInt(document.getElementById('total15').value)
    tot6=parseInt(document.getElementById('total16').value)
    tot7=parseInt(document.getElementById('total17').value)
    tot8=parseInt(document.getElementById('total18').value)
    tot9=parseInt(document.getElementById('total19').value)
    tot10=parseInt(document.getElementById('total110').value)
    tot11=parseInt(document.getElementById('total111').value)
    tot12=parseInt(document.getElementById('total112').value)
    tot13=parseInt(document.getElementById('total113').value)
    tot14=parseInt(document.getElementById('total114').value)
    tot15=parseInt(document.getElementById('total115').value)
    
    totals=tot1+tot2+tot3+tot4+tot5+tot6+tot7+tot8+tot9+tot10+tot11+tot12+tot13+tot14+tot15
    tax1=tot1*(parseFloat(document.getElementById('tax1').value)/2)/100
    tax2=tot2*(parseFloat(document.getElementById('tax2').value)/2)/100
    tax3=tot3*(parseFloat(document.getElementById('tax3').value)/2)/100
    tax4=tot4*(parseFloat(document.getElementById('tax4').value)/2)/100
    tax5=tot5*(parseFloat(document.getElementById('tax5').value)/2)/100
    tax6=tot6*(parseFloat(document.getElementById('tax6').value)/2)/100
    tax7=tot7*(parseFloat(document.getElementById('tax7').value)/2)/100
    tax8=tot8*(parseFloat(document.getElementById('tax8').value)/2)/100
    tax9=tot9*(parseFloat(document.getElementById('tax9').value)/2)/100
    tax10=tot10*(parseFloat(document.getElementById('tax10').value)/2)/100
    tax11=tot11*(parseFloat(document.getElementById('tax11').value)/2)/100
    tax12=tot12*(parseFloat(document.getElementById('tax12').value)/2)/100
    tax13=tot13*(parseFloat(document.getElementById('tax13').value)/2)/100
    tax14=tot14*(parseFloat(document.getElementById('tax14').value)/2)/100
    tax15=tot15*(parseFloat(document.getElementById('tax15').value)/2)/100
    
   
    tot_tax=tax1+tax2+tax3+tax4+tax5+tax6+tax7+tax8+tax9+tax10+tax11+tax12+tax13+tax14+tax15
    
    
    document.getElementById('subtotal').value=totals
    document.getElementById('cgst').value=tot_tax
    document.getElementById('sgst').value=tot_tax
    grnd=totals+tot_tax+tot_tax
    document.getElementById('grandtotal').value=grnd
    document.getElementById('baldue').value=grnd


    document.getElementById('total116').value =parseInt(document.getElementById('qty116').value) * parseInt(document.getElementById('unit116').value);
    tot1=parseInt(document.getElementById('total11').value)
    tot2=parseInt(document.getElementById('total12').value)
    tot3=parseInt(document.getElementById('total13').value)
    tot4=parseInt(document.getElementById('total14').value)
    tot5=parseInt(document.getElementById('total15').value)
    tot6=parseInt(document.getElementById('total16').value)
    tot7=parseInt(document.getElementById('total17').value)
    tot8=parseInt(document.getElementById('total18').value)
    tot9=parseInt(document.getElementById('total19').value)
    tot10=parseInt(document.getElementById('total110').value)
    tot11=parseInt(document.getElementById('total111').value)
    tot12=parseInt(document.getElementById('total112').value)
    tot13=parseInt(document.getElementById('total113').value)
    tot14=parseInt(document.getElementById('total114').value)
    tot15=parseInt(document.getElementById('total115').value)
    tot16=parseInt(document.getElementById('total116').value)
    
    totals=tot1+tot2+tot3+tot4+tot5+tot6+tot7+tot8+tot9+tot10+tot11+tot12+tot13+tot14+tot15+tot16
    tax1=tot1*(parseFloat(document.getElementById('tax1').value)/2)/100
    tax2=tot2*(parseFloat(document.getElementById('tax2').value)/2)/100
    tax3=tot3*(parseFloat(document.getElementById('tax3').value)/2)/100
    tax4=tot4*(parseFloat(document.getElementById('tax4').value)/2)/100
    tax5=tot5*(parseFloat(document.getElementById('tax5').value)/2)/100
    tax6=tot6*(parseFloat(document.getElementById('tax6').value)/2)/100
    tax7=tot7*(parseFloat(document.getElementById('tax7').value)/2)/100
    tax8=tot8*(parseFloat(document.getElementById('tax8').value)/2)/100
    tax9=tot9*(parseFloat(document.getElementById('tax9').value)/2)/100
    tax10=tot10*(parseFloat(document.getElementById('tax10').value)/2)/100
    tax11=tot11*(parseFloat(document.getElementById('tax11').value)/2)/100
    tax12=tot12*(parseFloat(document.getElementById('tax12').value)/2)/100
    tax13=tot13*(parseFloat(document.getElementById('tax13').value)/2)/100
    tax14=tot14*(parseFloat(document.getElementById('tax14').value)/2)/100
    tax15=tot15*(parseFloat(document.getElementById('tax15').value)/2)/100
    tax16=tot16*(parseFloat(document.getElementById('tax16').value)/2)/100
    
   
    tot_tax=tax1+tax2+tax3+tax4+tax5+tax6+tax7+tax8+tax9+tax10+tax11+tax12+tax13+tax14+tax15+tax16
    
    
    
    document.getElementById('subtotal').value=totals
    document.getElementById('cgst').value=tot_tax
    document.getElementById('sgst').value=tot_tax
    grnd=totals+tot_tax+tot_tax
    document.getElementById('grandtotal').value=grnd
    document.getElementById('baldue').value=grnd

    document.getElementById('total117').value =parseInt(document.getElementById('qty117').value) * parseInt(document.getElementById('unit117').value);
    tot1=parseInt(document.getElementById('total11').value)
    tot2=parseInt(document.getElementById('total12').value)
    tot3=parseInt(document.getElementById('total13').value)
    tot4=parseInt(document.getElementById('total14').value)
    tot5=parseInt(document.getElementById('total15').value)
    tot6=parseInt(document.getElementById('total16').value)
    tot7=parseInt(document.getElementById('total17').value)
    tot8=parseInt(document.getElementById('total18').value)
    tot9=parseInt(document.getElementById('total19').value)
    tot10=parseInt(document.getElementById('total110').value)
    tot11=parseInt(document.getElementById('total111').value)
    tot12=parseInt(document.getElementById('total112').value)
    tot13=parseInt(document.getElementById('total113').value)
    tot14=parseInt(document.getElementById('total114').value)
    tot15=parseInt(document.getElementById('total115').value)
    tot16=parseInt(document.getElementById('total116').value)
    tot17=parseInt(document.getElementById('total117').value)
    
    totals=tot1+tot2+tot3+tot4+tot5+tot6+tot7+tot8+tot9+tot10+tot11+tot12+tot13+tot14+tot15+tot16+tot17
    tax1=tot1*(parseFloat(document.getElementById('tax1').value)/2)/100
    tax2=tot2*(parseFloat(document.getElementById('tax2').value)/2)/100
    tax3=tot3*(parseFloat(document.getElementById('tax3').value)/2)/100
    tax4=tot4*(parseFloat(document.getElementById('tax4').value)/2)/100
    tax5=tot5*(parseFloat(document.getElementById('tax5').value)/2)/100
    tax6=tot6*(parseFloat(document.getElementById('tax6').value)/2)/100
    tax7=tot7*(parseFloat(document.getElementById('tax7').value)/2)/100
    tax8=tot8*(parseFloat(document.getElementById('tax8').value)/2)/100
    tax9=tot9*(parseFloat(document.getElementById('tax9').value)/2)/100
    tax10=tot10*(parseFloat(document.getElementById('tax10').value)/2)/100
    tax11=tot11*(parseFloat(document.getElementById('tax11').value)/2)/100
    tax12=tot12*(parseFloat(document.getElementById('tax12').value)/2)/100
    tax13=tot13*(parseFloat(document.getElementById('tax13').value)/2)/100
    tax14=tot14*(parseFloat(document.getElementById('tax14').value)/2)/100
    tax15=tot15*(parseFloat(document.getElementById('tax15').value)/2)/100
    tax16=tot16*(parseFloat(document.getElementById('tax16').value)/2)/100
    tax17=tot17*(parseFloat(document.getElementById('tax17').value)/2)/100
   
    tot_tax=tax1+tax2+tax3+tax4+tax5+tax6+tax7+tax8+tax9+tax10+tax11+tax12+tax13+tax14+tax15+tax16+tax17
    
    
    
    document.getElementById('subtotal').value=totals
    document.getElementById('cgst').value=tot_tax
    document.getElementById('sgst').value=tot_tax
    grnd=totals+tot_tax+tot_tax
    document.getElementById('grandtotal').value=grnd
    document.getElementById('baldue').value=grnd


    document.getElementById('total118').value =parseInt(document.getElementById('qty118').value) * parseInt(document.getElementById('unit118').value);
    tot1=parseInt(document.getElementById('total11').value)
    tot2=parseInt(document.getElementById('total12').value)
    tot3=parseInt(document.getElementById('total13').value)
    tot4=parseInt(document.getElementById('total14').value)
    tot5=parseInt(document.getElementById('total15').value)
    tot6=parseInt(document.getElementById('total16').value)
    tot7=parseInt(document.getElementById('total17').value)
    tot8=parseInt(document.getElementById('total18').value)
    tot9=parseInt(document.getElementById('total19').value)
    tot10=parseInt(document.getElementById('total110').value)
    tot11=parseInt(document.getElementById('total111').value)
    tot12=parseInt(document.getElementById('total112').value)
    tot13=parseInt(document.getElementById('total113').value)
    tot14=parseInt(document.getElementById('total114').value)
    tot15=parseInt(document.getElementById('total115').value)
    tot16=parseInt(document.getElementById('total116').value)
    tot17=parseInt(document.getElementById('total117').value)
    tot18=parseInt(document.getElementById('total118').value)
    
    totals=tot1+tot2+tot3+tot4+tot5+tot6+tot7+tot8+tot9+tot10+tot11+tot12+tot13+tot14+tot15+tot16+tot17+tot18
    tax1=tot1*(parseFloat(document.getElementById('tax1').value)/2)/100
    tax2=tot2*(parseFloat(document.getElementById('tax2').value)/2)/100
    tax3=tot3*(parseFloat(document.getElementById('tax3').value)/2)/100
    tax4=tot4*(parseFloat(document.getElementById('tax4').value)/2)/100
    tax5=tot5*(parseFloat(document.getElementById('tax5').value)/2)/100
    tax6=tot6*(parseFloat(document.getElementById('tax6').value)/2)/100
    tax7=tot7*(parseFloat(document.getElementById('tax7').value)/2)/100
    tax8=tot8*(parseFloat(document.getElementById('tax8').value)/2)/100
    tax9=tot9*(parseFloat(document.getElementById('tax9').value)/2)/100
    tax10=tot10*(parseFloat(document.getElementById('tax10').value)/2)/100
    tax11=tot11*(parseFloat(document.getElementById('tax11').value)/2)/100
    tax12=tot12*(parseFloat(document.getElementById('tax12').value)/2)/100
    tax13=tot13*(parseFloat(document.getElementById('tax13').value)/2)/100
    tax14=tot14*(parseFloat(document.getElementById('tax14').value)/2)/100
    tax15=tot15*(parseFloat(document.getElementById('tax15').value)/2)/100
    tax16=tot16*(parseFloat(document.getElementById('tax16').value)/2)/100
    tax17=tot17*(parseFloat(document.getElementById('tax17').value)/2)/100
    tax18=tot18*(parseFloat(document.getElementById('tax18').value)/2)/100
    
    tot_tax=tax1+tax2+tax3+tax4+tax5+tax6+tax7+tax8+tax9+tax10+tax11+tax12+tax13+tax14+tax15+tax16+tax17+tax18
    
    
    
    document.getElementById('subtotal').value=totals
    document.getElementById('cgst').value=tot_tax
    document.getElementById('sgst').value=tot_tax
    grnd=totals+tot_tax+tot_tax
    document.getElementById('grandtotal').value=grnd
    document.getElementById('baldue').value=grnd

    document.getElementById('total119').value =parseInt(document.getElementById('qty119').value) * parseInt(document.getElementById('unit119').value);
    tot1=parseInt(document.getElementById('total11').value)
    tot2=parseInt(document.getElementById('total12').value)
    tot3=parseInt(document.getElementById('total13').value)
    tot4=parseInt(document.getElementById('total14').value)
    tot5=parseInt(document.getElementById('total15').value)
    tot6=parseInt(document.getElementById('total16').value)
    tot7=parseInt(document.getElementById('total17').value)
    tot8=parseInt(document.getElementById('total18').value)
    tot9=parseInt(document.getElementById('total19').value)
    tot10=parseInt(document.getElementById('total110').value)
    tot11=parseInt(document.getElementById('total111').value)
    tot12=parseInt(document.getElementById('total112').value)
    tot13=parseInt(document.getElementById('total113').value)
    tot14=parseInt(document.getElementById('total114').value)
    tot15=parseInt(document.getElementById('total115').value)
    tot16=parseInt(document.getElementById('total116').value)
    tot17=parseInt(document.getElementById('total117').value)
    tot18=parseInt(document.getElementById('total118').value)
    tot19=parseInt(document.getElementById('total119').value)
   
    totals=tot1+tot2+tot3+tot4+tot5+tot6+tot7+tot8+tot9+tot10+tot11+tot12+tot13+tot14+tot15+tot16+tot17+tot18+tot19
    tax1=tot1*(parseFloat(document.getElementById('tax1').value)/2)/100
    tax2=tot2*(parseFloat(document.getElementById('tax2').value)/2)/100
    tax3=tot3*(parseFloat(document.getElementById('tax3').value)/2)/100
    tax4=tot4*(parseFloat(document.getElementById('tax4').value)/2)/100
    tax5=tot5*(parseFloat(document.getElementById('tax5').value)/2)/100
    tax6=tot6*(parseFloat(document.getElementById('tax6').value)/2)/100
    tax7=tot7*(parseFloat(document.getElementById('tax7').value)/2)/100
    tax8=tot8*(parseFloat(document.getElementById('tax8').value)/2)/100
    tax9=tot9*(parseFloat(document.getElementById('tax9').value)/2)/100
    tax10=tot10*(parseFloat(document.getElementById('tax10').value)/2)/100
    tax11=tot11*(parseFloat(document.getElementById('tax11').value)/2)/100
    tax12=tot12*(parseFloat(document.getElementById('tax12').value)/2)/100
    tax13=tot13*(parseFloat(document.getElementById('tax13').value)/2)/100
    tax14=tot14*(parseFloat(document.getElementById('tax14').value)/2)/100
    tax15=tot15*(parseFloat(document.getElementById('tax15').value)/2)/100
    tax16=tot16*(parseFloat(document.getElementById('tax16').value)/2)/100
    tax17=tot17*(parseFloat(document.getElementById('tax17').value)/2)/100
    tax18=tot18*(parseFloat(document.getElementById('tax18').value)/2)/100
    tax19=tot19*(parseFloat(document.getElementById('tax19').value)/2)/100
   
    tot_tax=tax1+tax2+tax3+tax4+tax5+tax6+tax7+tax8+tax9+tax10+tax11+tax12+tax13+tax14+tax15+tax16+tax17+tax18+tax19
    
    
    
    document.getElementById('subtotal').value=totals
    document.getElementById('cgst').value=tot_tax
    document.getElementById('sgst').value=tot_tax
    grnd=totals+tot_tax+tot_tax
    document.getElementById('grandtotal').value=grnd
    document.getElementById('baldue').value=grnd



    document.getElementById('total120').value =parseInt(document.getElementById('qty120').value) * parseInt(document.getElementById('unit120').value);
    tot1=parseInt(document.getElementById('total11').value)
    tot2=parseInt(document.getElementById('total12').value)
    tot3=parseInt(document.getElementById('total13').value)
    tot4=parseInt(document.getElementById('total14').value)
    tot5=parseInt(document.getElementById('total15').value)
    tot6=parseInt(document.getElementById('total16').value)
    tot7=parseInt(document.getElementById('total17').value)
    tot8=parseInt(document.getElementById('total18').value)
    tot9=parseInt(document.getElementById('total19').value)
    tot10=parseInt(document.getElementById('total110').value)
    tot11=parseInt(document.getElementById('total111').value)
    tot12=parseInt(document.getElementById('total112').value)
    tot13=parseInt(document.getElementById('total113').value)
    tot14=parseInt(document.getElementById('total114').value)
    tot15=parseInt(document.getElementById('total115').value)
    tot16=parseInt(document.getElementById('total116').value)
    tot17=parseInt(document.getElementById('total117').value)
    tot18=parseInt(document.getElementById('total118').value)
    tot19=parseInt(document.getElementById('total119').value)
    tot20=parseInt(document.getElementById('total120').value)
    totals=tot1+tot2+tot3+tot4+tot5+tot6+tot7+tot8+tot9+tot10+tot11+tot12+tot13+tot14+tot15+tot16+tot17+tot18+tot19+tot20
    tax1=tot1*(parseFloat(document.getElementById('tax1').value)/2)/100
    tax2=tot2*(parseFloat(document.getElementById('tax2').value)/2)/100
    tax3=tot3*(parseFloat(document.getElementById('tax3').value)/2)/100
    tax4=tot4*(parseFloat(document.getElementById('tax4').value)/2)/100
    tax5=tot5*(parseFloat(document.getElementById('tax5').value)/2)/100
    tax6=tot6*(parseFloat(document.getElementById('tax6').value)/2)/100
    tax7=tot7*(parseFloat(document.getElementById('tax7').value)/2)/100
    tax8=tot8*(parseFloat(document.getElementById('tax8').value)/2)/100
    tax9=tot9*(parseFloat(document.getElementById('tax9').value)/2)/100
    tax10=tot10*(parseFloat(document.getElementById('tax10').value)/2)/100
    tax11=tot11*(parseFloat(document.getElementById('tax11').value)/2)/100
    tax12=tot12*(parseFloat(document.getElementById('tax12').value)/2)/100
    tax13=tot13*(parseFloat(document.getElementById('tax13').value)/2)/100
    tax14=tot14*(parseFloat(document.getElementById('tax14').value)/2)/100
    tax15=tot15*(parseFloat(document.getElementById('tax15').value)/2)/100
    tax16=tot16*(parseFloat(document.getElementById('tax16').value)/2)/100
    tax17=tot17*(parseFloat(document.getElementById('tax17').value)/2)/100
    tax18=tot18*(parseFloat(document.getElementById('tax18').value)/2)/100
    tax19=tot19*(parseFloat(document.getElementById('tax19').value)/2)/100
    tax20=tot20*(parseFloat(document.getElementById('tax20').value)/2)/100
    tot_tax=tax1+tax2+tax3+tax4+tax5+tax6+tax7+tax8+tax9+tax10+tax11+tax12+tax13+tax14+tax15+tax16+tax17+tax18+tax19+tax20
    
    
    
    document.getElementById('subtotal').value=totals
    document.getElementById('cgst').value=tot_tax
    document.getElementById('sgst').value=tot_tax
    grnd=totals+tot_tax+tot_tax
    document.getElementById('grandtotal').value=grnd
    document.getElementById('baldue').value=grnd
    
  
    
    
    document.getElementById('qty11').value = parseInt(document.getElementById('qty111').value) * tx;
    document.getElementById('qty12').value = parseInt(document.getElementById('qty121').value) * tx;
    document.getElementById('qty13').value = parseInt(document.getElementById('qty131').value) * tx;
    document.getElementById('qty14').value = parseInt(document.getElementById('qty141').value) * tx;
    

  }

  function qtychange2(element) {
    var tx = parseInt(element.value);
    document.getElementById('qty21').value = parseInt(document.getElementById('qty211').value) * tx;
    document.getElementById('qty22').value = parseInt(document.getElementById('qty221').value) * tx;
    document.getElementById('qty23').value = parseInt(document.getElementById('qty231').value) * tx;
    document.getElementById('qty24').value = parseInt(document.getElementById('qty241').value) * tx;
  }

  function qtychange3(element) {
    var tx = parseInt(element.value);
    document.getElementById('qty31').value = parseInt(document.getElementById('qty311').value) * tx;
    document.getElementById('qty32').value = parseInt(document.getElementById('qty321').value) * tx;
    document.getElementById('qty33').value = parseInt(document.getElementById('qty331').value) * tx;
    document.getElementById('qty34').value = parseInt(document.getElementById('qty341').value) * tx;
  }

  function qtychange4(element) {
    var tx = parseInt(element.value);
    document.getElementById('qty41').value = parseInt(document.getElementById('qty411').value) * tx;
    document.getElementById('qty42').value = parseInt(document.getElementById('qty421').value) * tx;
    document.getElementById('qty43').value = parseInt(document.getElementById('qty431').value) * tx;
    document.getElementById('qty44').value = parseInt(document.getElementById('qty441').value) * tx;
  }

  
</script>

<script>
  $(document).ready(function() {
    var $select1 = $('#plosu'),
      $select2 = $('#tax1'),
      $select3 = $('#tax2'),
      $select4 = $('#tax3'),
      $select5 = $('#tax4'),
      $options = $select2.find('option'),
      $options1 = $select3.find('option'),
      $options2 = $select4.find('option'),
      $options3 = $select5.find('option');
    if ($options1.value == '{{ cmp1.state }}') {
      $options1.text = "{{ cmp1.state }}"
    }
    $select1.on('change', function() {
      if (this.value == "{{ cmp1.state }}") {
        $select2.html($options.filter('[text="' + this.value + '"]'));
        $select3.html($options1.filter('[text="' + this.value + '"]'));
        $select4.html($options2.filter('[text="' + this.value + '"]'));
        $select5.html($options3.filter('[text="' + this.value + '"]'));
      } else {
        $select2.html($options.filter('[text="' + " " + '"]'));
        $select3.html($options1.filter('[text="' + " " + '"]'));
        $select4.html($options2.filter('[text="' + " " + '"]'));
        $select5.html($options3.filter('[text="' + " " + '"]'));

      }

    }).trigger('change');
  });
</script>
{% endblock %}
